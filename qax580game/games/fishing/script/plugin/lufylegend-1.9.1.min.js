var OS_PC="pc",OS_IPHONE="iPhone",OS_IPOD="iPod",OS_IPAD="iPad",OS_ANDROID="Android",NONE="none",UNDEFINED="undefined",LANDSCAPE="landscape",PORTRAIT="portrait",mouseX,mouseY;
function LEvent(a){this.eventType=a;this._ll_preventDefault=false;}LEvent.prototype.preventDefault=function(){this._ll_preventDefault=true;};LEvent.INIT="init";
LEvent.COMPLETE="complete";LEvent.ENTER_FRAME="enter_frame";LEvent.WINDOW_RESIZE="resize";LEvent.SOUND_COMPLETE="sound_complete";LEvent.END_CONTACT="endContact";
LEvent.PRE_SOLVE="preSolve";LEvent.POST_SOLVE="postSolve";LEvent.BEGIN_CONTACT="beginContact";LEvent.addEventListener=function(e,c,d,a){if(a==null){a=false;
}if(e.addEventListener){e.addEventListener(c,d,a);}else{if(e.attachEvent){e["e"+c+d]=d;e[c+d]=function(){e["e"+c+d]();};e.attachEvent("on"+c,e[c+d]);}}};
LEvent.removeEventListener=function(e,c,d,a){if(a==null){a=false;}if(e.removeEventListener){e.removeEventListener(c,d,a);}else{if(e.detachEvent){e["e"+c+d]=d;
e[c+d]=function(){e["e"+c+d]();};e.detachEvent("on"+c,e[c+d]);}}};var LMouseEvent=function(){throw"LMouseEvent cannot be instantiated";};LMouseEvent.MOUSE_DOWN="mousedown";
LMouseEvent.MOUSE_UP="mouseup";LMouseEvent.TOUCH_START="touchstart";LMouseEvent.TOUCH_MOVE="touchmove";LMouseEvent.TOUCH_END="touchend";LMouseEvent.MOUSE_MOVE="mousemove";
LMouseEvent.MOUSE_OVER="mouseover";LMouseEvent.MOUSE_OUT="mouseout";LMouseEvent.DOUBLE_CLICK="dblclick";var LMultitouchInputMode=function(){throw"LMultitouchInputMode cannot be instantiated";
};LMultitouchInputMode.NONE="none";LMultitouchInputMode.GESTURE="gesture";LMultitouchInputMode.TOUCH_POINT="touchPoint";var LMultitouch=function(){throw"LMultitouch cannot be instantiated";
};LMultitouch.inputMode="none";LMultitouch.touchs=[];var LTextEvent=function(){throw"LTextEvent cannot be instantiated";};LTextEvent.TEXT_INPUT="textInput";
LTextEvent.WIND_COMPLETE="windComplete";var LFocusEvent=function(){throw"LFocusEvent cannot be instantiated";};LFocusEvent.FOCUS_IN="focusIn";LFocusEvent.FOCUS_OUT="focusOut";
var LMouseEventContainer=(function(){function a(){var b=this;b.container={};b.dispatchAllEvent=false;b.mouseDownContainer=[];b.mouseUpContainer=[];b.mouseMoveContainer=[];
b.mouseOverContainer=[];b.mouseOutContainer=[];b.mouseDblContainer=[];b.textFieldInputContainer=[];b.buttonContainer=[];}a.prototype={pushInputBox:function(g){var f=this,h=f.textFieldInputContainer,e,b;
for(e=0,b=h.length;e<b;e++){if(g.objectIndex==h[e].objectIndex){return;}}f.textFieldInputContainer.push(g);},removeInputBox:function(g){var f=this,h=f.textFieldInputContainer,e,b;
for(e=0,b=h.length;e<b;e++){if(g.objectIndex==h[e].objectIndex){f.textFieldInputContainer.splice(e,1);break;}}},pushButton:function(g){var f=this,h=f.buttonContainer,e,b;
for(e=0,b=h.length;e<b;e++){if(g.objectIndex==h[e].objectIndex){return;}}f.buttonContainer.push(g);},removeButton:function(g){var f=this,h=f.buttonContainer,e,b;
for(e=0,b=h.length;e<b;e++){if(g.objectIndex==h[e].objectIndex){f.buttonContainer.splice(e,1);break;}}},dispatchEventButton:function(g){var f=this,h=f.buttonContainer,d,b;
for(d=0,b=h.length;d<b;d++){if(typeof f.buttonContainer[d].ll_button_mode=="function"){f.buttonContainer[d].ll_button_mode(g);}}},addEvent:function(e,d,c){var b=this;
d.push({container:e,listener:c});},removeEvent:function(h,g,e){var d=this,c,b;for(c=0,b=g.length;c<b;c++){if(g[c].container.objectIndex===h.objectIndex&&(!e||g[c].listener==e)){g.splice(c,1);
break;}}},addMouseDownEvent:function(d,c){var b=this;b.addEvent(d,b.mouseDownContainer,c);},addMouseUpEvent:function(d,c){var b=this;b.addEvent(d,b.mouseUpContainer,c);
},addMouseMoveEvent:function(d,c){var b=this;b.addEvent(d,b.mouseMoveContainer,c);},addMouseOverEvent:function(d,c){var b=this;b.addEvent(d,b.mouseOverContainer,c);
},addMouseOutEvent:function(d,c){var b=this;b.addEvent(d,b.mouseOutContainer,c);},addMouseDblEvent:function(d,c){var b=this;b.addEvent(d,b.mouseDblContainer,c);
},addMouseEvent:function(e,b,d){var c=this;if(b==LMouseEvent.MOUSE_DOWN){c.addMouseDownEvent(e,d);}else{if(b==LMouseEvent.MOUSE_UP){c.addMouseUpEvent(e,d);
}else{if(b==LMouseEvent.MOUSE_OVER){c.addMouseOverEvent(e,d);}else{if(b==LMouseEvent.MOUSE_OUT){c.addMouseOutEvent(e,d);}else{if(b==LMouseEvent.MOUSE_MOVE){c.addMouseMoveEvent(e,d);
}else{c.addMouseDblEvent(e,d);}}}}}},hasEvent:function(e,d){for(var c=0,b=d.length;c<b;c++){if(d[c].container.objectIndex===e.objectIndex){return true;
}}return false;},removeMouseDownEvent:function(d,c){var b=this;b.removeEvent(d,b.mouseDownContainer,c);},removeMouseUpEvent:function(d,c){var b=this;b.removeEvent(d,b.mouseUpContainer,c);
},removeMouseMoveEvent:function(d,c){var b=this;b.removeEvent(d,b.mouseMoveContainer,c);},removeMouseOverEvent:function(d,c){var b=this;b.removeEvent(d,b.mouseOverContainer,c);
},removeMouseOutEvent:function(d,c){var b=this;b.removeEvent(d,b.mouseOutContainer,c);},removeMouseDblEvent:function(d,c){var b=this;b.removeEvent(d,b.mouseDblContainer,c);
},removeMouseEvent:function(e,b,d){var c=this;if(b==LMouseEvent.MOUSE_DOWN){c.removeMouseDownEvent(e,d);}else{if(b==LMouseEvent.MOUSE_UP){c.removeMouseUpEvent(e,d);
}else{if(b==LMouseEvent.MOUSE_OVER){c.removeMouseOverEvent(e,d);}else{if(b==LMouseEvent.MOUSE_OUT){c.removeMouseOutEvent(e,d);}else{if(b==LMouseEvent.MOUSE_MOVE){c.removeMouseMoveEvent(e,d);
}else{c.removeMouseDblEvent(e,d);}}}}}},dispatchMouseEvent:function(d,c){var b=this;if(c==LMouseEvent.MOUSE_DOWN){b.dispatchEvent(d,b.mouseDownContainer,LMouseEvent.MOUSE_DOWN);
b.dispatchEvent(d,b.textFieldInputContainer);}else{if(c==LMouseEvent.MOUSE_UP){b.dispatchEvent(d,b.mouseUpContainer,LMouseEvent.MOUSE_UP);}else{if(c==LMouseEvent.DOUBLE_CLICK){b.dispatchEvent(d,b.mouseDblContainer,LMouseEvent.DOUBLE_CLICK);
}else{b.dispatchEventButton(d);b.dispatchEvent(d,b.mouseOutContainer,LMouseEvent.MOUSE_OUT);b.dispatchEvent(d,b.mouseOverContainer,LMouseEvent.MOUSE_OVER);
b.dispatchEvent(d,b.mouseMoveContainer,LMouseEvent.MOUSE_MOVE);}}}},getRootParams:function(b){var d=b.parent,c={x:0,y:0,scaleX:1,scaleY:1};while(d!="root"){c.x*=d.scaleX;
c.y*=d.scaleY;c.x+=d.x;c.y+=d.y;c.scaleX*=d.scaleX;c.scaleY*=d.scaleY;d=d.parent;}return c;},_mouseEnabled:function(c){var b=this;if(!c||!c.parent||c.parent=="root"){return false;
}if(!c.visible||(typeof c.mouseEnabled!=UNDEFINED&&!c.mouseEnabled)){return false;}var d=c.parent;while(d!="root"){if(!d.mouseEnabled||!d.mouseChildren){return false;
}d=d.parent;if(!d){return false;}}return true;},dispatchEvent:function(b,g,h){var m=this,c,j,k=[],d,f,e;for(f=0,e=g.length;f<e;f++){c=g[f].container||g[f];
if(!m._mouseEnabled(c)){continue;}j=m.getRootParams(c);if(!h&&c.mouseEvent){c.mouseEvent(b,LMouseEvent.MOUSE_DOWN,j);continue;}if(c.ismouseon(b,j)){if(h==LMouseEvent.MOUSE_OUT){continue;
}if(h==LMouseEvent.MOUSE_OVER){if(c.ll_mousein){continue;}}if(h!=LMouseEvent.MOUSE_UP){c.ll_mousein=true;}k.push({sp:c,co:j,listener:g[f].listener});}else{if(h!=LMouseEvent.MOUSE_OUT&&h!=LMouseEvent.MOUSE_OVER){continue;
}if(!c.ll_mousein){continue;}c.ll_mousein=false;k.push({sp:c,co:j,listener:g[f].listener});}}if(k.length==0){return;}if(k.length>1){k=k.sort(m._sort.bind(m));
}e=m.dispatchAllEvent?k.length:1;for(f=0;f<e&&f<k.length;f++){d=k[f];b.currentTarget=b.clickTarget=d.sp;if(!b.target){b.target=d.sp;}b.event_type=h;b.selfX=(b.offsetX-d.co.x-d.sp.x)/(d.co.scaleX*d.sp.scaleX);
b.selfY=(b.offsetY-d.co.y-d.sp.y)/(d.co.scaleY*d.sp.scaleY);d.listener(b,d.sp);if(e==1&&f<k.length-1&&d.sp.objectIndex==k[f+1].sp.objectIndex){k.splice(f,1);
f--;}}},set:function(c,b){this.container[c]=b;},_sort:function(m,k){var n=this,f,d,j=n._getSort(m.sp),c=n._getSort(k.sp),h,g,e;for(h=0,g=j.length,e=c.length;
h<g&&h<e;h++){f=j[h];d=c[h];if(f.objectIndex==d.objectIndex){continue;}return d.parent.getChildIndex(d)-f.parent.getChildIndex(f);}return c.length-j.length;
},_getSort:function(b){var d=b.parent,c=[b];while(d!="root"){c.unshift(d);d=d.parent;}return c;}};return new a();})();var LKeyboardEvent=function(){throw"LKeyboardEvent cannot be instantiated";
};LKeyboardEvent.KEY_DOWN="keydown";LKeyboardEvent.KEY_UP="keyup";LKeyboardEvent.KEY_PRESS="keypress";var LAccelerometerEvent=function(){throw"LAccelerometerEvent cannot be instantiated";
};LAccelerometerEvent.DEVICEMOTION="devicemotion";function LStageAlign(){throw"LStageAlign cannot be instantiated";}LStageAlign.TOP="T";LStageAlign.BOTTOM="B";
LStageAlign.LEFT="L";LStageAlign.RIGHT="Re";LStageAlign.TOP_LEFT="TL";LStageAlign.TOP_RIGHT="TR";LStageAlign.TOP_MIDDLE="TM";LStageAlign.BOTTOM_LEFT="BL";
LStageAlign.BOTTOM_RIGHT="BR";LStageAlign.BOTTOM_MIDDLE="BM";LStageAlign.MIDDLE="M";function LStageScaleMode(){throw"LStageScaleMode cannot be instantiated";
}LStageScaleMode.EXACT_FIT="exactFit";LStageScaleMode.SHOW_ALL="showAll";LStageScaleMode.NO_BORDER="noBorder";LStageScaleMode.NO_SCALE="noScale";var LGlobal=(function(){function a(){throw"LGlobal cannot be instantiated";
}a.FULL_SCREEN="full_screen";a.traceDebug=false;a.displayState=NONE;a.aspectRatio=NONE;a.canvasObj=null;a.canvas=null;a.webAudio=true;a.objectIndex=1;a.stage=null;
a.width=0;a.height=0;a.box2d=null;a.speed=50;a.IS_MOUSE_DOWN=false;a.preventDefault=true;a.childList=new Array();a.dragList=new Array();a.excludingContainer=new Array();
a.stageScale="noScale";a.align="M";a.mobile=false;a.canTouch=false;a.os=OS_PC;a.ios=false;a.android=false;a.android_new=false;a.backgroundColor=null;a.destroy=true;
a.forceRefresh=false;a.devicePixelRatio=window.devicePixelRatio||1;a.startTimer=0;a.keepClear=true;a.top=0;a.left=0;a.window=window;(function(c){a.isFirefox=(c.toLowerCase().indexOf("firefox")>=0);
if(c.indexOf(OS_IPHONE)>0){a.os=OS_IPHONE;a.canTouch=true;a.ios=true;}else{if(c.indexOf(OS_IPOD)>0){a.os=OS_IPOD;a.canTouch=true;a.ios=true;}else{if(c.indexOf(OS_IPAD)>0){a.os=OS_IPAD;
a.ios=true;a.canTouch=true;}else{if(c.indexOf(OS_ANDROID)>0){a.os=OS_ANDROID;a.canTouch=true;a.android=true;var b=c.indexOf(OS_ANDROID);if(parseInt(c.substr(b+8,1))>3){a.android_new=true;
}}}}}a.mobile=a.canTouch;})(navigator.userAgent);a.setDebug=function(b){a.traceDebug=b;};a.setCanvas=function(d,b,c){a.ll_createCanvas(d,b,c);a.ll_createStage();
if(a.displayState==LStage.FULL_SCREEN){a.resize();}else{if(typeof a.displayState=="number"){a.resize(a.width*a.displayState,a.height*a.displayState);}}if(a.canTouch){a.ll_clicks=0;
a.ll_prev_clickTime=0;LEvent.addEventListener(a.canvasObj,LMouseEvent.TOUCH_START,a.ll_touchStart);LEvent.addEventListener(document,LMouseEvent.TOUCH_END,a.ll_touchEnd);
LEvent.addEventListener(a.canvasObj,LMouseEvent.TOUCH_MOVE,a.ll_touchMove);}else{LEvent.addEventListener(a.canvasObj,LMouseEvent.DOUBLE_CLICK,a.ll_mouseDbclick);
LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_DOWN,a.ll_mouseDown);LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_MOVE,a.ll_mouseMove);LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_UP,a.ll_mouseUp);
LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_OUT,a.ll_mouseOut);}};a.ll_createCanvas=function(d,b,c){a.id=d;a.object=document.getElementById(d);
a.object.innerHTML='<div><canvas id="'+a.id+'_canvas" style="margin:0;padding:0;width:'+b+"px;height:"+c+'px;"><div id="noCanvas"><p>Hey there,it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5:(</p></div></canvas></div><div id="'+a.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+a.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+a.id+'_InputTextBox"  style="background:transparent;border:0px;"/><input type="password" id="'+a.id+'_passwordBox"  style="background:transparent;border:0px;"/></div>';
a.canvasObj=document.getElementById(a.id+"_canvas");a._canvas=document.createElement("canvas");a._context=a._canvas.getContext("2d");if(a._context){a.canvasObj.innerHTML="";
}a.inputBox=document.getElementById(a.id+"_InputText");a.inputTextareaBoxObj=document.getElementById(a.id+"_InputTextareaBox");a.inputTextBoxObj=document.getElementById(a.id+"_InputTextBox");
a.passwordBoxObj=document.getElementById(a.id+"_passwordBox");a.inputTextField=null;if(b){a.canvasObj.width=b;}if(c){a.canvasObj.height=c;}a.width=a.canvasObj.width;
a.height=a.canvasObj.height;a.canvasStyleWidth=a.width;a.canvasStyleHeight=a.height;a.canvas=a.canvasObj.getContext("2d");a.offsetX=mouseX=0;a.offsetY=mouseY=0;
};a.ll_createStage=function(){a.stage=new LSprite();a.stage.parent="root";a.childList.push(a.stage);a.stage.baseAddEvent=a.stage.addEventListener;a.stage.baseRemoveEvent=a.stage.removeEventListener;
a.stage.addEventListener=function(b,c){if(b==LEvent.WINDOW_RESIZE){a.stage.onresizeListener=c;a.stage.onresize=function(d){a.stage.onresizeEvent=d;};LEvent.addEventListener(a.window,b,a.stage.onresize);
}else{if(b==LKeyboardEvent.KEY_DOWN||b==LKeyboardEvent.KEY_UP||b==LKeyboardEvent.KEY_PRESS){LEvent.addEventListener(a.window,b,c);}else{a.stage.baseAddEvent(b,c);
}}};a.stage.removeEventListener=function(b,c){if(b==LEvent.WINDOW_RESIZE){LEvent.removeEventListener(a.window,LEvent.WINDOW_RESIZE,a.stage.onresize);delete a.stage.onresize;
delete a.stage.onresizeListener;}else{if(b==LKeyboardEvent.KEY_DOWN||b==LKeyboardEvent.KEY_UP||b==LKeyboardEvent.KEY_PRESS){LEvent.removeEventListener(a.window,b,c);
}else{a.stage.baseRemoveEvent(b,c);}}};};a.ll_touchStart=function(b){if(a.inputBox.style.display!=NONE){a.inputTextField._ll_getValue();}var j=parseInt(0+a.object.style.left)+parseInt(a.canvasObj.style.marginLeft),g=parseInt(0+a.object.style.top)+parseInt(a.canvasObj.style.marginTop),m,f,h,e;
if(LMultitouch.inputMode==LMultitouchInputMode.NONE){e=0;}else{if(LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT){e=b.touches.length-1;}}m={offsetX:(b.touches[e].pageX-j),offsetY:(b.touches[e].pageY-g),touchPointID:b.touches[e].identifier};
m.offsetX=a.ll_scaleX(m.offsetX);m.offsetY=a.ll_scaleY(m.offsetY);mouseX=a.offsetX=m.offsetX;mouseY=a.offsetY=m.offsetY;LMultitouch.touchs["touch"+m.touchPointID]=m;
a.mouseEvent(m,LMouseEvent.MOUSE_DOWN);a.buttonStatusEvent=m;var d=new Date();var c=d.getTime();a.ll_clicks=(c<=(a.ll_prev_clickTime+500))?(a.ll_clicks+1):1;
a.ll_prev_clickTime=c;if(a.ll_clicks===2){a.mouseEvent(m,LMouseEvent.DOUBLE_CLICK);a.ll_clicks=0;}a.IS_MOUSE_DOWN=true;if(a.mouseJoint_start){a.mouseJoint_start(m);
}a.touchHandler(b);};a.ll_touchEnd=function(j){var m,g,c,d,b,f;if(LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT){for(c in LMultitouch.touchs){m=LMultitouch.touchs[c];
f=false;for(d=0,b=j.touches.length;d<b;d++){if(j.touches[d].identifier==m.touchPointID){f=true;break;}}if(!f){g=m;delete LMultitouch.touchs[c];break;}}}if(!g){g={offsetX:a.offsetX,offsetY:a.offsetY};
}a.mouseEvent(g,LMouseEvent.MOUSE_UP);a.touchHandler(j);a.IS_MOUSE_DOWN=false;a.buttonStatusEvent=null;if(a.mouseJoint_end){a.mouseJoint_end();}};a.ll_touchMove=function(f){var h=parseInt(0+a.object.style.left)+parseInt(a.canvasObj.style.marginLeft),g=parseInt(0+a.object.style.top)+parseInt(a.canvasObj.style.marginTop),c,b,d=f.touches.length;
if(LMultitouch.inputMode==LMultitouchInputMode.NONE){d=1;}for(i=0,b=f.touches.length;i<b&&i<d;i++){c={offsetX:(f.touches[i].pageX-h),offsetY:(f.touches[i].pageY-g),touchPointID:f.touches[i].identifier};
c.offsetX=a.ll_scaleX(c.offsetX);c.offsetY=a.ll_scaleY(c.offsetY);mouseX=a.offsetX=c.offsetX;mouseY=a.offsetY=c.offsetY;if(LMultitouch.touchs["touch"+c.touchPointID]&&LMultitouch.touchs["touch"+c.touchPointID].offsetX==c.offsetX&&LMultitouch.touchs["touch"+c.touchPointID].offsetY==c.offsetY){continue;
}a.buttonStatusEvent=c;LMultitouch.touchs["touch"+c.touchPointID]=c;a.mouseEvent(c,LMouseEvent.MOUSE_MOVE);}a.touchHandler(f);if(a.mouseJoint_move){a.mouseJoint_move(c);
}};a.ll_mouseDbclick=function(c){if(c.offsetX==null&&c.layerX!=null){c.offsetX=c.layerX;c.offsetY=c.layerY;}var b={button:c.button};b.offsetX=a.ll_scaleX(c.offsetX);
b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.DOUBLE_CLICK);};a.ll_mouseDown=function(c){if(c.offsetX==null&&c.layerX!=null){c.offsetX=c.layerX;
c.offsetY=c.layerY;}if(a.inputBox.style.display!=NONE){a.inputTextField._ll_getValue();}var b={button:c.button};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);
a.mouseEvent(b,LMouseEvent.MOUSE_DOWN);a.IS_MOUSE_DOWN=true;if(a.mouseJoint_start){a.mouseJoint_start(b);}};a.ll_mouseMove=function(c){if(c.offsetX==null&&c.layerX!=null){c.offsetX=c.layerX;
c.offsetY=c.layerY;}var b={};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.buttonStatusEvent=b;mouseX=a.offsetX=b.offsetX;mouseY=a.offsetY=b.offsetY;
a.mouseEvent(b,LMouseEvent.MOUSE_MOVE);if(a.mouseJoint_move){a.mouseJoint_move(b);}};a.ll_mouseUp=function(c){if(c.offsetX==null&&c.layerX!=null){c.offsetX=c.layerX;
c.offsetY=c.layerY;}var b={button:c.button};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.MOUSE_UP);a.IS_MOUSE_DOWN=false;
if(a.mouseJoint_end){a.mouseJoint_end();}};a.ll_mouseOut=function(c){if(c.offsetX==null&&c.layerX!=null){c.offsetX=c.layerX;c.offsetY=c.layerY;}var b={};
b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.MOUSE_OUT);a.IS_MOUSE_DOWN=false;};a.touchHandler=function(b){b.stopPropagation();
if(a.preventDefault){b.preventDefault();}if(b.stopImmediatePropagation){b.stopImmediatePropagation();}return b;};a.mouseEvent=function(d,c){if(c==LMouseEvent.MOUSE_MOVE){a.dragHandler(d);
}if(LMouseEventContainer.container[c]){LMouseEventContainer.dispatchMouseEvent(d,c);return;}for(var b=a.childList.length-1;b>=0;b--){if(a.childList[b].mouseEvent&&a.childList[b].mouseEvent(d,c)){break;
}}};a.dragHandler=function(g){var b,f,j,h=a.dragList;for(b=h.length-1;b>=0;b--){f=h[b];if(a.canTouch&&f.ll_touchPointID!=g.touchPointID){continue;}j=f.getAbsoluteScale();
f.x=f.ll_dragStartX+(g.offsetX-f.ll_dragMX)*f.scaleX/j.scaleX;f.y=f.ll_dragStartY+(g.offsetY-f.ll_dragMY)*f.scaleY/j.scaleY;break;}};a._ll_mobile=function(){var p=a.width*0.3,x=p*1.5,D=a.width*0.05,E=p*0.05,j=p*0.15,A=p*0.3,o=x*0.2,t="#cccccc",r="#000000",q="#ffffff",k="#ff0000",z,p,x,g,C,e,B;
z=new LSprite();addChild(z);p=a.width*0.3,x=p*1.5;z.graphics.drawRoundRect(1,r,[D,D,p,x,D],true,t);z.graphics.drawRoundRect(1,r,[D+E,D+E,p-E*2,x-E*2,D],true,r);
z.graphics.drawRect(1,q,[D+j,D+o,p-j*2,x-o*2],true,q);z.graphics.drawArc(1,q,[D+p*0.5,D+x-E*3.5,E*1.5,0,2*Math.PI]);z.graphics.drawRoundRect(1,q,[D+A,D+j,p-A*2,E,E*0.5]);
g=new LSprite();g.x=-(p-j*2)*0.5;g.y=-E*0.5;g.graphics.drawRect(1,k,[0,0,p-j*2,E],true,k);C=new LSprite();C.y=-(p-j*2)*0.5;C.x=-E*0.5;C.graphics.drawRect(1,k,[0,0,E,p-j*2],true,k);
e=new LSprite();e.x=D+A+(p-A*2)*0.5;e.y=D+o+(x-o*2)*0.5;e.rotate=45;e.addChild(g);e.addChild(C);z.addChild(e);B=new LSprite();B.graphics.drawVertices(2,r,[[0,0],[j,j],[0,j*2]],true,t);
B.x=D*1.5+x;B.y=D*1.5+x*0.5;addChild(B);z.arrow=B;var y=function(){setTimeout(function(){location.href=location.href;},100);};window.onorientationchange=y;
return z;};a.verticalError=function(){var e=a.width*0.3,f=a.width*0.05;var c=a._ll_mobile();var g=c.clone();g.getChildAt(0).visible=false;g.x=a.width*0.5+f;
addChild(g);c.rotate=90;c.x=a.width*0.5+f;c.y=e*0.5;};a.horizontalError=function(){var e=a.width*0.3,f=a.width*0.05;var c=a._ll_mobile();var g=c.clone();
g.getChildAt(0).visible=false;g.rotate=90;g.x=a.width-f;g.y=e*0.5;addChild(g);c.arrow.x=f*1.5+e;};a.onShow=function(){if(a.canvas==null){return;}if(a.stage.onresizeEvent){a.stage.onresizeListener(a.stage.onresizeEvent);
delete a.stage.onresizeEvent;}if(a.forceRefresh){a.canvasObj.width=a.canvasObj.width;a.forceRefresh=false;}if(a.box2d!=null){a.box2d.ll_show();if(!a.traceDebug&&a.keepClear){a.canvas.clearRect(0,0,a.width+1,a.height+1);
}}else{if(a.keepClear){a.canvas.clearRect(0,0,a.width+1,a.height+1);}if(a.backgroundColor!==null){a.canvas.fillStyle=a.backgroundColor;a.canvas.fillRect(0,0,a.width,a.height);
}}a.show(a.childList);};a.show=function(d){for(var c=0,b=d.length;c<b;c++){if(d[c]&&d[c].ll_show){d[c].ll_show();}}};a.divideCoordinate=function(o,m,p,e){var k,f,g=o/e,d=m/p,b=[],n;
for(k=0;k<p;k++){n=[];for(f=0;f<e;f++){n.push({x:g*f,y:d*k});}b.push(n);}return b;};a._create_loading_color=function(){var b=a.canvas.createRadialGradient(a.width/2,a.height,0,a.width/2,0,a.height);
b.addColorStop(0,"red");b.addColorStop(0.3,"orange");b.addColorStop(0.4,"yellow");b.addColorStop(0.5,"green");b.addColorStop(0.8,"blue");b.addColorStop(1,"violet");
return b;};a.hitPolygon=function(h,m,k){var j=0,o=h[0],f=(m<=o[0]),e=(k<=o[1]),g,d,n,b,p;for(g=1,d=h.length;g<d+1;g++){n=h[g%d];b=(m<=n[0]);p=(k<=n[1]);
if(e!=p){if(f==b){if(f){j+=(e?-1:1);}}else{if(m<=(o[0]+(n[0]-o[0])*(k-o[1])/(n[1]-o[1]))){j+=(e?-1:1);}}}o=n;f=b;e=p;}return 0!=j;};a.hitTestPolygon=function(o,n){var g,f,e,b,m,k,h=[[o,[],[]],[n,[],[]]];
for(f=0;f<h.length;f++){b=h[f][0],m=h[f][1];for(g=0,e=b.length;g<e;g++){h[f][2].push(new LVec2(b[g][0],b[g][1]));if(g<e-1){m.push((new LVec2(b[g+1][0]-b[g][0],b[g+1][1]-b[g][1])).normL());
}}m.push((new LVec2(b[0][0]-b[e-1][0],b[0][1]-b[e-1][1])).normL());}for(f=0;f<h.length;f++){m=h[f][1];for(g=0,e=m.length;g<e;g++){var d=LVec2.getMinMax(h[0][2],m[g]);
var c=LVec2.getMinMax(h[1][2],m[g]);if(d.max_o<c.min_o||d.min_o>c.max_o){return false;}}}return true;};a.hitTestPolygonArc=function(p,b){if(a.hitPolygon(p,b[0],b[1])){return true;
}var g,f,e,o,n,m,k,c,h,d;for(g=0,e=p.length;g<e;g++){f=g<e-1?g+1:0;o=p[g],n=p[f];m=new LVec2(b[0]-o[0],b[1]-o[1]),k=new LVec2(n[0]-o[0],n[1]-o[1]);d=k.normalize();
h=LVec2.dot(m,d);if(h<=0){if(m.x*m.x+m.y*m.y<b[3]){return true;}}else{if(h*h<k.x*k.x+k.y*k.y){c=LVec2.cross(m,d);if(c*c<b[3]){return true;}}}}return false;
};a.hitTestArc=function(o,m,n,d){var k=o.getWidth()*0.5,h=m.getWidth()*0.5,f=o._startX?o._startX():o.startX(),e=m._startX?m._startX():m.startX(),c=o._startY?o._startY():o.startY(),b=m._startY?m._startY():m.startY();
if(typeof n!=UNDEFINED){f+=(k-n);c+=(k-n);k=n;}if(typeof d!=UNDEFINED){e+=(h-d);b+=(h-d);h=d;}var j=f+k-e-h,g=c+k-b-h;return j*j+g*g<(k+h)*(k+h);};a.hitTestRect=function(h,f,q,o){var m=h.getWidth(),k=f.getWidth(),t=h.getHeight(),r=f.getHeight(),e=h._startX?h._startX():h.startX(),d=f._startX?f._startX():f.startX(),c=h._startY?h._startY():h.startY(),b=f._startY?f._startY():f.startY();
if(typeof q!=UNDEFINED){e+=(m-q[0])*0.5;c+=(t-q[1])*0.5;m=q[0];t=q[1];}if(typeof o!=UNDEFINED){d+=(k-o[0])*0.5;b+=(r-o[1])*0.5;k=o[0];r=o[1];}var p=e>d?e:d,n=c>b?c:b,j=(e+m)>(d+k)?(d+k):(e+m),g=(c+t)>(b+r)?(b+r):(c+t);
return p<=j&&n<=g;};a.hitTest=a.hitTestRect;a.setFrameRate=function(b){if(a.frameRate){clearInterval(a.frameRate);}a.speed=b;a.frameRate=setInterval(function(){a.onShow();
},b);};a.ll_scaleX=function(b){return(b-a.left)*a.width/a.canvasStyleWidth;};a.ll_scaleY=function(b){return(b-a.top)*a.height/a.canvasStyleHeight;};a.ll_setStageSize=function(b,c){b=Math.ceil(b);
c=Math.ceil(c);a.canvasObj.style.width=b+"px";a.canvasObj.style.height=c+"px";a.canvasStyleWidth=b;a.canvasStyleHeight=c;};a.resize=function(e,j){var d,g,f=0,c=0,k=window.innerWidth,b=window.innerHeight;
if(e){d=e;}if(j){g=j;}if(a.stageScale=="noScale"){d=e||a.width;g=j||a.height;}switch(a.stageScale){case"exactFit":d=e||k;g=j||b;break;case"noBorder":d=e||k;
g=j||a.height*k/a.width;switch(a.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:case LStageAlign.BOTTOM_RIGHT:case LStageAlign.BOTTOM_MIDDLE:f=b-g;
break;}break;case"showAll":if(k/b>a.width/a.height){g=j||b;d=e||a.width*b/a.height;}else{d=e||k;g=j||a.height*k/a.width;}case"noScale":default:switch(a.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:f=b-g;
break;case LStageAlign.RIGHT:case LStageAlign.TOP_RIGHT:c=k-d;break;case LStageAlign.TOP_MIDDLE:c=(k-d)*0.5;break;case LStageAlign.BOTTOM_RIGHT:f=b-g;c=k-d;
break;case LStageAlign.BOTTOM_MIDDLE:f=b-g;c=(k-d)*0.5;break;case LStageAlign.MIDDLE:f=(b-g)*0.5;c=(k-d)*0.5;break;case LStageAlign.TOP:case LStageAlign.LEFT:case LStageAlign.TOP_LEFT:default:}}a.canvasObj.style.marginTop=f+"px";
a.canvasObj.style.marginLeft=c+"px";if(a.isFirefox){a.left=parseInt(a.canvasObj.style.marginLeft);a.top=parseInt(a.canvasObj.style.marginTop);}a.ll_setStageSize(d,g);
};a.sleep=function(b){var c=new Date();while((new Date().getTime()-c.getTime())<b){}};a.screen=function(b){a.displayState=b;if(a.stage){if(typeof a.displayState=="number"){a.resize(a.width*a.displayState,a.height*a.displayState);
}else{a.resize();}}};return a;})();var LSystem=LGlobal;var LStage=LGlobal;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;
var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a;}for(;c<a;c++){if(c in this&&this[c]===b){return c;}}return -1;};}if(!Array.isArray){Array.isArray=function(a){return Object.prototype.toString.apply(a)=="[object Array]";
};}function trace(){if(!LGlobal.traceDebug){return;}var b=document.getElementById("traceObject"),a;if(trace.arguments.length>0&&b==null){b=document.createElement("TEXTAREA");
b.id="traceObject";b.style.position="absolute";b.style.top=(LGlobal.height+20)+"px";b.style.width=LGlobal.width+"px";b.style.height="200px";document.body.appendChild(b);
}for(a=0;a<trace.arguments.length;a++){b.value=b.value+trace.arguments[a]+"\r\n";b.scrollTop=b.scrollHeight;}}function addChild(a){LGlobal.stage.addChild(a);
}function removeChild(a){LGlobal.stage.removeChild(a);}function init(e,k,a,d,g,b){LGlobal.speed=e;var j=function(){if(LGlobal.canTouch&&LGlobal.aspectRatio==LANDSCAPE&&window.innerWidth<window.innerHeight){LGlobal.horizontalError();
}else{if(LGlobal.canTouch&&LGlobal.aspectRatio==PORTRAIT&&window.innerWidth>window.innerHeight){LGlobal.verticalError();}else{setTimeout(g,100);}}LGlobal.startTimer=(new Date()).getTime();
};if(b!=null&&b==LEvent.INIT){LGlobal.frameRate=setInterval(function(){LGlobal.onShow();},e);LGlobal.setCanvas(k,a,d);j();}else{LEvent.addEventListener(window,"load",function(){LGlobal.frameRate=setInterval(function(){LGlobal.onShow();
},e);LGlobal.setCanvas(k,a,d);j();});}}var LInit=init;function base(k,c,e){var g=null,j=k.constructor.prototype,f={};if(k.constructor.name=="Object"){console.warn("When you use the extends. You must make a method like 'XX.prototype.xxx=function(){}'. but not 'XX.prototype={xxx:function(){}}'.");
}k.__ll__parent__=k.__ll__parent__||[];k.__ll__parent__.push(c.prototype);for(g in j){f[g]=1;}for(g in c.prototype){if(!f[g]){j[g]=c.prototype[g];}}if(j.toString==Object.prototype.toString){j.toString=LObject.prototype.toString;
}c.apply(k,e);}var LExtends=base;function getTimer(){return(new Date()).getTime()-LGlobal.startTimer;}function getExtension(c){var a,b=/([^#?]+\.)([^.#?]+)/;
a=c.match(b);if(a.length>=3){return a[2].toLowerCase();}return null;}var LObject=(function(){function a(){this.type="LObject";this.objectIndex=++LGlobal.objectIndex;
this.objectindex=this.objectIndex;}a.prototype={callParent:function(b,c){if(!b||!c){return;}var d=this,f=false,e;if(typeof d.__ll__parent_call=="undefined"){f=true;
d.__ll__parent_call=0;}else{d.__ll__parent_call++;}if(d.__ll__parent_call>=d.__ll__parent__.length){return false;}if(!d.__ll__parent__[d.__ll__parent_call][b]){e=d.callParent(b,c);
}else{e=d.__ll__parent__[d.__ll__parent_call][b].apply(d,c);}if(f){delete d.__ll__parent_call;}return e;},toString:function(){return"[object "+this.type+"]";
}};return a;})();var LMatrix=(function(){function a(k,j,h,g,f,e,o,n,m){var p=this;p.a=1;p.b=0;p.u=0;p.c=0;p.d=1;p.v=0;p.tx=0;p.ty=0;p.w=1;if(typeof k!=UNDEFINED){p.a=k;
}if(typeof j!=UNDEFINED){p.b=j;}if(typeof h!=UNDEFINED){p.c=h;}if(typeof g!=UNDEFINED){p.d=g;}if(typeof f!=UNDEFINED){p.tx=f;}if(typeof e!=UNDEFINED){p.ty=e;
}if(typeof o!=UNDEFINED){p.u=o;}if(typeof n!=UNDEFINED){p.v=n;}if(typeof m!=UNDEFINED){p.w=m;}}a.prototype={setTo:function(k,j,h,g,f,e,o,n,m){var p=this;
if(typeof k!=UNDEFINED){p.a=k;}if(typeof j!=UNDEFINED){p.b=j;}if(typeof h!=UNDEFINED){p.c=h;}if(typeof g!=UNDEFINED){p.d=g;}if(typeof f!=UNDEFINED){p.tx=f;
}if(typeof e!=UNDEFINED){p.ty=e;}if(typeof o!=UNDEFINED){p.u=o;}if(typeof n!=UNDEFINED){p.v=n;}if(typeof m!=UNDEFINED){p.w=m;}return p;},isIdentity:function(){var b=this;
return(b.a==1&&b.b==0&&b.c==0&&b.d==1&&b.tx==0&&b.ty==0&&u==0&&v==0&&w==1);},transform:function(d){var b=this;d.transform(b.a,b.b,b.c,b.d,b.tx,b.ty);return b;
},toString:function(){return"[object LMatrix]";},identity:function(){this.setTo(1,0,0,1,0,0,0,0,1);},rotate:function(f){var d=this,g=f*Math.PI/180,e=Math.cos(g),b=Math.sin(g),c=new a(e,b,-b,e,0,0,0,0,1);
d.add(c);},scale:function(e,d){var c=this,b=new a(e,0,0,d,0,0,0,0,1);c.add(b);},translate:function(c,b){var e=this,d=new a(1,0,0,1,c,b,0,0,1);e.add(d);
},skew:function(c,b){mtx=new a(0,b,c,0,0,0,0,0,1);s.add(mtx);},add:function(e){var q=this,m,k,j,h,g,f,p,o,n;m=q.a*e.a+q.b*e.c+q.u*e.tx;k=q.a*e.b+q.b*e.d+q.u*e.ty;
p=q.a*e.u+q.b*e.v+q.u*e.w;j=q.c*e.a+q.d*e.c+q.v*e.tx;h=q.c*e.b+q.d*e.d+q.v*e.ty;o=q.c*e.u+q.d*e.v+q.v*e.w;g=q.tx*e.a+q.ty*e.c+q.w*e.tx;f=q.tx*e.b+q.ty*e.d+q.w*e.ty;
n=q.tx*e.u+q.ty*e.v+q.w*e.w;q.setTo(m,k,j,h,g,f,p,o,n);},toArray:function(e){var A=this;if(Array.isArray(e)&&e.length==3){var g=e[0]*A.a+e[1]*A.c+e[2]*A.tx,f=e[0]*A.b+e[1]*A.d+e[2]*A.ty,h=e[0]*A.u+e[1]*A.v+e[2]*A.w;
return[g,f,h];}else{var t=A.a*e.a+A.b*e.c+A.u*e.tx,r=A.a*e.b+A.b*e.d+A.u*e.ty,z=A.a*e.u+A.b*e.v+A.u*e.w,q=A.c*e.a+A.d*e.c+A.v*e.tx,p=A.c*e.b+A.d*e.d+A.v*e.ty,y=A.c*e.u+A.d*e.v+A.v*e.w,o=A.tx*e.a+A.ty*e.c+A.w*e.tx,j=A.tx*e.b+A.ty*e.d+A.w*e.ty,x=A.tx*e.u+A.ty*e.v+A.w*e.w;
return[t,r,q,p,o,j,z,y,x];}},clone:function(){var b=this;return new a(b.a,b.b,b.c,b.d,b.tx,b.ty,b.u,b.v,b.w);}};return a;})();var LVec2=(function(){function a(b,c){this.x=b||0;
this.y=c||0;}a.dot=function(d,c){return d.x*c.x+d.y*c.y;};a.cross=function(d,c){return d.x*c.y-d.y*c.x;};a.distance=function(e,d){var c=e.x-d.x;var f=e.y-d.y;
return Math.sqrt(c*c+f*f);};a.getMinMax=function(k,d){var c=a.dot(k[0],d);var f=a.dot(k[0],d);var g=0;var j=0;for(var h=1;h<k.length;h++){var e=a.dot(k[h],d);
if(c>e){c=e;g=h;}if(f<e){f=e;j=h;}}var b={min_o:c,min_i:g,max_o:f,max_i:j};return b;};a.prototype={length:function(){var b=this;return Math.sqrt(b.x*b.x+b.y*b.y);
},normalize:function(){var c=this,b=c.length();return new a(c.x/b,c.y/b);},normR:function(){return new a(-this.y,this.x);},normL:function(){return new a(this.y,-this.x);
}};return a;})();var LEventDispatcher=(function(){function b(){var d=this;LExtends(d,LObject,[]);d._eventList=new Array();}var c={addEventListener:function(d,e){this._eventList.push({listener:e,type:d});
},removeEventListener:function(f,h){var e=this,d,g;g=e._eventList.length;for(d=0;d<g;d++){if(!e._eventList[d]){continue;}if(f==e._eventList[d].type&&e._eventList[d].listener==h){e._eventList.splice(d,1);
return;}}},removeAllEventListener:function(){this._eventList=[];},dispatchEvent:function(h){var f=this,d,g=f._eventList.length,e=(typeof h=="string")?h:h.eventType;
for(d=0;d<g;d++){if(!f._eventList[d]){continue;}if(e==f._eventList[d].type){if(typeof h=="string"){f.currentTarget=f.target=f;f.eventType=f.event_type=e;
f._eventList[d].listener(f);}else{if(!h.target){h.target=f;}if(!h.currentTarget){h.currentTarget=h.target;}h._ll_preventDefault=false;f._eventList[d].listener(h);
if(h._ll_preventDefault){return false;}}return true;}}return false;},hasEventListener:function(f,h){var e=this,d,g=e._eventList.length;for(d=0;d<g;d++){if(!e._eventList[d]){continue;
}if(f==e._eventList[d].type){if(typeof h==UNDEFINED||h==e._eventList[d].listener){return true;}}}return false;}};for(var a in c){b.prototype[a]=c[a];}return b;
})();var LDisplayObject=(function(){function c(){var d=this;LExtends(d,LEventDispatcher,[]);d.name="instance"+d.objectIndex;d.x=0;d.y=0;d.width=0;d.height=0;
d.scaleX=1;d.scaleY=1;d.alpha=1;d.visible=true;d.rotate=0;d.mask=null;d.blendMode=null;d.filters=null;}var b={_createCanvas:function(){var d=this;if(!d._canvas){d._canvas=document.createElement("canvas");
d._context=d._canvas.getContext("2d");}},ll_show:function(){var d=this,e=LGlobal.canvas;if(!d._canShow()){return;}if(!LGlobal.box2d&&typeof d._ll_loopframe=="function"){d._ll_loopframe();
}e.save();d._showReady(e);if(d.blendMode){e.globalCompositeOperation=d.blendMode;}if(d.filters){d._ll_setShadow();}d._rotateReady();if(d.mask!=null&&d.mask.ll_show){d.mask.ll_show();
e.clip();}d._transformRotate();d._transformScale();d._coordinate(e);if(d.alpha<1){e.globalAlpha=d.alpha;}d._ll_show(e);e.restore();if(LGlobal.box2d!=null&&typeof d._ll_loopframe=="function"){d._ll_loopframe();
}},_canShow:function(){return this.visible;},_coordinate:function(e){var d=this;if(d.x!=0||d.y!=0){e.transform(1,0,0,1,d.x,d.y);}},_rotateReady:function(){},_showReady:function(d){},_ll_show:function(d){},_ll_setShadow:function(){var g=this,h=g.filters,e,d;
if(!h){return;}for(e=0,d=h.length;e<d;e++){h[e].ll_show();}},_transformRotate:function(){var d=this,e;if(d.rotate==0){return;}e=LGlobal.canvas,rotateFlag=Math.PI/180,rotateObj=new LMatrix();
if((typeof d.rotatex)==UNDEFINED){d.rotatex=0;d.rotatey=0;}if(d.box2dBody){rotateFlag=1;}rotateObj.a=Math.cos(d.rotate*rotateFlag);rotateObj.b=Math.sin(d.rotate*rotateFlag);
rotateObj.c=-rotateObj.b;rotateObj.d=rotateObj.a;rotateObj.tx=d.x+d.rotatex;rotateObj.ty=d.y+d.rotatey;rotateObj.transform(e).setTo(1,0,0,1,-rotateObj.tx,-rotateObj.ty).transform(e);
},_transformScale:function(){var d=this,f=LGlobal.canvas,e;if(d.scaleX==1&&d.scaleY==1){return;}e=new LMatrix();if(d.scaleX!=1){e.tx=d.x;}if(d.scaleY!=1){e.ty=d.y;
}e.a=d.scaleX;e.d=d.scaleY;e.transform(f).setTo(1,0,0,1,-e.tx,-e.ty).transform(f);},copyProperty:function(d){var f=this,e;for(e in d){if(typeof d[e]=="number"||typeof d[e]=="string"||typeof d[e]=="boolean"){if(e=="objectindex"||e=="objectIndex"){continue;
}f[e]=d[e];}else{if(Array.isArray(d[e])){f[e]=d[e].slice();}}}if(d.mask){f.mask=d.mask.clone();}},getAbsoluteScale:function(){var d=this,g,f,e;g=d.scaleX;
f=d.scaleY;e=d.parent;while(e&&e!="root"){g*=e.scaleX;f*=e.scaleY;e=e.parent;}return{scaleX:g,scaleY:f};},getRootCoordinate:function(){var d=this,g,f,e;
g=d.x;f=d.y;e=d.parent;while(e&&e!="root"){g*=e.scaleX;f*=e.scaleY;g+=e.x;f+=e.y;e=e.parent;}return new LPoint(g,f);},getBounds:function(m){if(typeof m==UNDEFINED){return new LRectangle(0,0,0,0);
}var j=this,e=0,o=0,f=0,g=0,k,n;if(j.objectIndex!=m.objectIndex){k=j.getRootCoordinate();n=m.getRootCoordinate();e=k.x-n.x;o=k.y-n.y;}if(m.getWidth){f=m.getWidth();
}if(m.getHeight){g=m.getHeight();}return new LRectangle(e,o,f,g);},getDataCanvas:function(){var f=this,d,g,e,h;f._createCanvas();g=LGlobal.canvasObj;h=LGlobal.canvas;
d=f._canvas;e=f._context;f.width=f.getWidth();f.height=f.getHeight();d.width=f.width;d.height=f.height;e.clearRect(0,0,f.width,f.height);LGlobal.canvasObj=f._canvas;
LGlobal.canvas=f._context;f.ll_show();f._canvas=d;f._context=e;LGlobal.canvasObj=g;LGlobal.canvas=h;return f._canvas;},getDataURL:function(){var d=this,e=d.getDataCanvas();
return e.toDataURL();},ismouseonShapes:function(d,o,h){var q=this,k=q,f,e,g,n,p;if(typeof d==UNDEFINED){d=q.shapes;}f=q.getRootMatrix();for(g=d.length-1;
g>=0;g--){e=d[g];p=e.arg;n=q._changeShape(e.type,p,f);if(e.type==LShape.VERTICES){if(LGlobal.hitPolygon(n,o,h)){return true;}}else{if(e.type==LShape.RECT){if(LGlobal.hitPolygon(n,o,h)){return true;
}}else{if(e.type==LShape.ARC){if((n[0]-o)*(n[0]-o)+(n[1]-h)*(n[1]-h)<n[3]){return true;}}}}}return false;},_changeShape:function(h,o,e){var n,o=o,d,g,f,k,j;
if(h==LShape.VERTICES){n=[];for(g=0,f=o.length;g<f;g++){n[g]=e.toArray([o[g][0],o[g][1],1]);}}else{if(h==LShape.RECT){n=[[o[0],o[1]],[o[0]+o[2],o[1]],[o[0]+o[2],o[1]+o[3]],[o[0],o[1]+o[3]]];
for(g=0,f=n.length;g<f;g++){n[g]=e.toArray([n[g][0],n[g][1],1]);}}else{if(h==LShape.ARC){k=e.toArray([o[0],o[1],1]);j=e.toArray([o[0]+o[2],o[1],1]);d=(k[0]-j[0])*(k[0]-j[0])+(k[1]-j[1])*(k[1]-j[1]);
n=[k[0],k[1],Math.sqrt(d),d];}}}return n;},getRootMatrix:function(){var e=this,d=new LMatrix();while(e&&e!="root"){if(e.scaleX!=1||e.scaleY!=1){d.scale(e.scaleX,e.scaleY);
}if(e.rotate!=0){d.rotate(e.rotate);}if(e.x!=0||e.y!=0){d.translate(e.x,e.y);}e=e.parent;}return d;},remove:function(){var d=this,e=d.parent;if(!e||e=="root"){return;
}e.removeChild(d);}};for(var a in b){c.prototype[a]=b[a];}return c;})();var LInteractiveObject=(function(){function a(){var d=this;LExtends(d,LDisplayObject,[]);
d.type="LInteractiveObject";d.mouseEnabled=true;d.mouseList=new Array();}var c={addEventListener:function(e,f){var d=this;if(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e==LMouseEvent.DOUBLE_CLICK){if(LMouseEventContainer.container[e]||((e==LMouseEvent.MOUSE_OVER||e==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE])){LMouseEventContainer.addMouseEvent(d,e,f);
return;}d.mouseList.push({listener:f,type:e});}else{d._eventList.push({listener:f,type:e});}},removeEventListener:function(f,h){var e=this,d,g;if(f.indexOf("mouse")>=0||f.indexOf("touch")>=0||f==LMouseEvent.DOUBLE_CLICK){if(LMouseEventContainer.container[f]||((f==LMouseEvent.MOUSE_OVER||f==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE])){LMouseEventContainer.removeMouseEvent(e,f,h);
return;}g=e.mouseList.length;for(d=0;d<g;d++){if(!e.mouseList[d]){continue;}if(f==e.mouseList[d].type&&e.mouseList[d].listener==h){e.mouseList.splice(d,1);
return;}}}else{return e.callParent("removeEventListener",arguments);}},removeAllEventListener:function(){var d=this;d.mouseList.length=0;d._eventList.length=0;
if(LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]){LMouseEventContainer.removeMouseEvent(d,LMouseEvent.MOUSE_DOWN);}if(LMouseEventContainer.container[LMouseEvent.MOUSE_UP]){LMouseEventContainer.removeMouseEvent(d,LMouseEvent.MOUSE_UP);
}if(LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]){LMouseEventContainer.removeMouseEvent(d,LMouseEvent.MOUSE_MOVE);LMouseEventContainer.removeMouseEvent(d,LMouseEvent.MOUSE_OVER);
LMouseEventContainer.removeMouseEvent(d,LMouseEvent.MOUSE_OUT);}},hasEventListener:function(f){var e=this,d,g;if(f.indexOf("mouse")>=0||f.indexOf("touch")>=0||f==LMouseEvent.DOUBLE_CLICK){g=e.mouseList.length;
for(d=0;d<g;d++){if(!e.mouseList[d]){continue;}if(f==e.mouseList[d].type){return true;}}}else{return e.callParent("hasEventListener",arguments);}return false;
}};for(var b in c){a.prototype[b]=c[b];}return a;})();var LDisplayObjectContainer=(function(){function c(){var d=this;LExtends(d,LInteractiveObject,[]);
d.childList=new Array();d.numChildren=0;d.mouseChildren=true;}var b={addChild:function(g){var f=this,e;if(g.parent){e=LGlobal.destroy;LGlobal.destroy=false;
g.parent.removeChild(g);LGlobal.destroy=e;}g.parent=f;f.childList.push(g);f.numChildren=f.childList.length;return g;},addChildAt:function(h,f){var g=this,e;
if(f<0||f>g.childList.length){return;}if(typeof h.remove=="function"){e=LGlobal.destroy;LGlobal.destroy=false;h.remove();LGlobal.destroy=e;}h.parent=g;
g.childList.splice(f,0,h);g.numChildren=g.childList.length;return h;},removeChild:function(h){var g=this,j=g.childList,f,e;for(f=0,e=j.length;f<e;f++){if(h.objectIndex==j[f].objectIndex){if(LGlobal.destroy&&h.die){h.die();
}g.childList.splice(f,1);break;}}g.numChildren=g.childList.length;delete h.parent;},getChildAt:function(d){var e=this,f=e.childList;if(f.length==0||f.length<=d){return null;
}return f[d];},getChildByName:function(f){var d=this,e=d.childList;for(i=0,l=e.length;i<l;i++){if(!e[i]){continue;}if(e[i].name==f){return e[i];}}return null;
},removeChildAt:function(e){var f=this,h=f.childList;if(h.length<=e){return;}if(LGlobal.destroy&&h[e].die){h[e].die();}var g=f.childList.splice(e,1);f.numChildren=f.childList.length;
return g;},getChildIndex:function(h){if(!h){return -1;}var f=this,g=f.childList,e,d=g.length;for(e=0;e<d;e++){if(g[e].objectIndex==h.objectIndex){return e;
}}return -1;},setChildIndex:function(j,e){var g=this,h=g.childList,f,d=h.length;if(j.parent=="root"||j.parent.objectIndex!=g.objectIndex||e<0||e>=d){return -1;
}for(f=0;f<d;f++){if(h[f].objectIndex==j.objectIndex){break;}}g.childList.splice(f,1);g.childList.splice(e,0,j);return e;},resize:function(){var d=this;
d.width=d.getWidth();d.height=d.getHeight();},removeAllChild:function(){var f=this,g=f.childList,e,d;for(e=0,d=g.length;e<d;e++){if(LGlobal.destroy&&g[e].die){g[e].die();
}}f.childList.length=0;f.width=0;f.height=0;f.numChildren=0;}};for(var a in b){c.prototype[a]=b[a];}return c;})();var LLoader=(function(){function a(){var b=this;
LExtends(b,LEventDispatcher,[]);b.type="LLoader";}a.TYPE_BITMAPDATE="bitmapData";a.prototype.load=function(b,c){var d=this;if(!c){c=a.TYPE_BITMAPDATE;}d.loadtype=c;
if(c==a.TYPE_BITMAPDATE){d.content=new Image();d.content.onload=function(){d.content.onload=null;var e=new LEvent(LEvent.COMPLETE);e.currentTarget=d;e.target=d.content;
d.dispatchEvent(e);delete d.content;};d.content.src=b;}};return a;})();var LURLLoader=(function(){function a(){var b=this;LExtends(b,LEventDispatcher,[]);
b.type="LURLLoader";b.loadtype="";b.content=null;b.event={};}a.TYPE_TEXT="text";a.TYPE_JS="js";a.prototype.load=function(c,d){var f=this,g,e;if(!d){e=getExtension(c);
if(e=="txt"){d=a.TYPE_TEXT;}else{if(e=="js"){d=a.TYPE_JS;}}}f.loadtype=d;if(d==a.TYPE_TEXT){LAjax.get(c,{},function(h){g=new LEvent(LEvent.COMPLETE);f.data=h;
g.currentTarget=f;g.target=h;f.dispatchEvent(g);delete f.content;delete f.data;});}else{if(d==a.TYPE_JS){var b=document.createElement("script");b.onload=function(){g=new LEvent(LEvent.COMPLETE);
g.currentTarget=f;g.target=f;f.dispatchEvent(g);delete f.content;};b.src=c;b.type="text/javascript";document.querySelector("head").appendChild(b);}}};return a;
})();var LWebAudio=(function(){function b(){var d=this;LExtends(d,LEventDispatcher,[]);d.currentTime=0;d.currentStart=0;d.currentSave=0;d.length=0;d.loopStart=0;
d.loopEnd=0;d.loopIndex=0;d.loopLength=1;d.playing=false;d.volume=1;}b.container=[];b.containerCount=0;b.audioTag=new Audio();b._context=null;var c={getWebAudio:function(){var d;
if(b.containerCount>0){d=b.container.shift();}else{if(typeof webkitAudioContext!==UNDEFINED){try{d=new webkitAudioContext();}catch(f){b.containerCount=b.container.length;
d=b.container.shift();}}else{if(typeof AudioContext!==UNDEFINED){try{d=new AudioContext();}catch(f){b.containerCount=b.container.length;d=b.container.shift();
}}else{throw"AudioContext not supported.:(";}}}if(!d.createGainNode){d.createGainNode=d.createGain;}b.container.push(d);return d;},onload:function(f){var d=this;
if(Object.prototype.toString.apply(f)!=="[object AudioBuffer]"){d.load(f);return;}if(!d.data){d.data=d.getWebAudio();}d.buffer=f;d.length=d.buffer.duration;
var g=new LEvent(LEvent.COMPLETE);g.currentTarget=d;g.target=d.buffer;d.dispatchEvent(g);},_onended:function(){var d=this;d.dispatchEvent(LEvent.SOUND_COMPLETE);
if(++d.loopIndex<d.loopLength){d.play(d.currentStart,undefined,d.currentTimeTo);}else{d.close();}},load:function(h){var j=this;if(typeof h!=="string"){if(Object.prototype.toString.apply(h)=="[object AudioBuffer]"){j.onload(h);
}else{if(Object.prototype.toString.apply(h)=="[object ArrayBuffer]"){if(!j.data){j.data=j.getWebAudio();}j.data.decodeAudioData(h,j.onload.bind(j),function(d){throw"AudioContext decodeAudioData error:"+d.toString();
});}}return;}var f,e,g,n,m={mov:"quicktime","3gp":"3gpp",ogv:"ogg",m4a:"mpeg",mp3:"mpeg",wave:"wav",aac:"mp4"};f=h.split(",");for(g in f){e=f[g].split(".");
n=e[e.length-1];if(m[n]){n=m[n];}if(b.audioTag.canPlayType(j._type+"/"+n)){LAjax.responseType=LAjax.ARRAY_BUFFER;LAjax.get(f[g],{},j.onload.bind(j));return;
}}},getCurrentTime:function(){var d=this;if(d.playing){return d.data.currentTime-d.currentSave+d.currentTime;}else{return d.currentSave;}},setVolume:function(d){var e=this;
e.volume=d;if(e.playing){e.volumeNode.gain.value=d;}},getVolume:function(){return this.volume;},play:function(g,d,f){var e=this;if(e.length==0){return;
}if(typeof d!==UNDEFINED){e.loopIndex=0;e.loopLength=d;}if(typeof g!==UNDEFINED){e.currentTime=g;e.currentStart=g;}if(typeof f!==UNDEFINED){e.currentTimeTo=f>e.length?e.length:f;
}else{e.currentTimeTo=e.length;}e.data.loop=false;e.playing=true;if(e.timeout){clearTimeout(e.timeout);delete e.timeout;}e.timeout=setTimeout(e._onended.bind(e),(e.currentTimeTo-e.currentTime)*1000);
e.bufferSource=e.data.createBufferSource();e.bufferSource.buffer=e.buffer;e.volumeNode=e.data.createGainNode();e.volumeNode.gain.value=e.volume;e.volumeNode.connect(e.data.destination);
e.bufferSource.connect(e.volumeNode);e.currentSave=e.data.currentTime;if(e.bufferSource.start){e.bufferSource.start(0,e.currentTime,e.length-e.currentTime);
}else{e.bufferSource.noteGrainOn(0,e.currentTime,e.length-e.currentTime);}},playSegment:function(f,e,d){this.playTo(f,f+e,d);},playTo:function(f,e,d){this.play(f,d,e);
},stop:function(){var d=this;if(!d.playing){return;}clearTimeout(d.timeout);delete d.timeout;if(d.bufferSource.stop){d.bufferSource.stop(0);}else{d.bufferSource.noteOff(0);
}d.currentSave=d.getCurrentTime();d.currentTime=d.currentSave;d.playing=false;},close:function(){var d=this;if(!d.playing){return;}clearTimeout(d.timeout);
delete d.timeout;if(d.bufferSource.stop){d.bufferSource.stop(0);}else{d.bufferSource.noteOff(0);}d.playing=false;d.currentTime=0;d.currentSave=0;}};for(var a in c){b.prototype[a]=c[a];
}return b;})();var LMedia=(function(){function b(){var d=this;LExtends(d,LDisplayObject,[]);d.length=0;d.loopIndex=0;d.loopLength=1;d.playing=false;d.oncomplete=null;
d.onsoundcomplete=null;d.currentStart=0;}var c={onload:function(){var d=this;if(d.data.readyState){d.length=d.data.duration;var f=new LEvent(LEvent.COMPLETE);
f.currentTarget=d;f.target=d.data;d.dispatchEvent(f);return;}d.data.addEventListener("canplaythrough",function(){d.onload();},false);},_onended:function(){var d=this;
if(d.data.ended){d.dispatchEvent(LEvent.SOUND_COMPLETE);}if(++d.loopIndex<d.loopLength){d.data.currentTime=d.currentStart;if(d.timeout){clearTimeout(d.timeout);
d.timeout=setTimeout(d._onended.bind(d),(d.currentTimeTo-d.data.currentTime)*1000);}d.data.play();}else{d.close();}},load:function(h){var j=this;if(Object.prototype.toString.apply(h)=="[object HTMLAudioElement]"){j.data=h;
j.onload();return;}var f,e,g,n,m={mov:"quicktime","3gp":"3gpp",ogv:"ogg",m4a:"mpeg",mp3:"mpeg",wave:"wav",aac:"mp4"};f=h.split(",");for(g in f){e=f[g].split(".");
n=e[e.length-1];if(m[n]){n=m[n];}if(j.data.canPlayType(j._type+"/"+n)){j.data.src=f[g];j.onload();j.data.addEventListener("ended",function(){j._onended();
},false);j.data.load();return;}}if(j.oncomplete){j.oncomplete({});}},getCurrentTime:function(){return this.data.currentTime;},setVolume:function(d){this.data.volume=d;
},getVolume:function(){return this.data.volume;},play:function(g,d,f){var e=this;if(e.length==0){return;}if(typeof d==UNDEFINED){d=1;}if(typeof g==UNDEFINED){g=0;
}if(g>0){e.data.currentTime=g;e.currentStart=g;}if(typeof f!==UNDEFINED){e.currentTimeTo=f>e.length?e.length:f;if(e.timeout){clearTimeout(e.timeout);delete e.timeout;
}e.timeout=setTimeout(e._onended.bind(e),(e.currentTimeTo-e.data.currentTime)*1000);}e.data.loop=false;e.loopIndex=0;e.loopLength=d;e.playing=true;e.data.play();
},playSegment:function(f,e,d){this.playTo(f,f+e,d);},playTo:function(f,e,d){this.play(f,d,e);},stop:function(){var d=this;if(!d.playing){return;}if(d.timeout){clearTimeout(d.timeout);
delete d.timeout;}d.playing=false;d.data.pause();},close:function(){var d=this;if(!d.playing){return;}if(d.timeout){clearTimeout(d.timeout);delete d.timeout;
}d.playing=false;d.data.pause();d.data.currentTime=0;d.currentSave=0;}};for(var a in c){b.prototype[a]=c[a];}return b;})();var LSound=(function(){function a(d){var e=this;
e.type="LSound";e._type="audio";if(a.webAudioEnabled&&LGlobal.webAudio){LExtends(e,LWebAudio,[]);}else{LExtends(e,LMedia,[]);e.data=new Audio();e.data.loop=false;
e.data.autoplay=false;}if(d){e.load(d);}}a.TYPE_SOUND="sound";a.webAudioEnabled=false;var c=location.protocol;if(c=="http:"||c=="https:"){if(typeof webkitAudioContext!==UNDEFINED){try{LWebAudio._context=new webkitAudioContext();
}catch(b){}}else{if(typeof AudioContext!==UNDEFINED){try{LWebAudio._context=new AudioContext();}catch(b){}}}if(LWebAudio._context){LWebAudio.container.push(LWebAudio._context);
a.webAudioEnabled=true;}}return a;})();var LVideo=(function(){function b(d){var e=this;LExtends(e,LMedia,[]);e.type="LVideo";e._type="video";e.rotatex=0;
e.rotatey=0;e.data=document.createElement("video");e.data.style.display="none";document.body.appendChild(e.data);e.data.id="video_"+e.objectIndex;e.data.loop=false;
e.data.autoplay=false;if(d){e.load(d);}}var c={_ll_show:function(e){var d=this;e.drawImage(d.data,d.x,d.y);},die:function(){var d=this;document.body.removeChild(d.data);
delete d.data;},getWidth:function(){return this.data.width;},getHeight:function(){return this.data.height;}};for(var a in c){b.prototype[a]=c[a];}return b;
})();var LPoint=(function(){function a(b,d){var c=this;c.x=b;c.y=d;}a.distance=function(c,b){return a.distance2(c.x,c.y,b.x,b.y);};a.distance2=function(d,f,c,e){var b=d-c,g=d-c;
return Math.sqrt(b*b+g*g);};a.interpolate=function(d,c,b){return new a(d.x+(c.x-d.x)*(1-b),d.y+(c.y-d.y)*(1-b));};a.polar=function(c,b){return new a(c*Math.cos(b),c*Math.sin(b));
};a.prototype={toString:function(){return"[object LPoint("+this.x+","+this.y+")]";},length:function(){return a.distance2(this.x,this.y,0,0);},add:function(b){return a(this.x+b.x,this.y+b.y);
},clone:function(){return new a(this.x,this.y);},setTo:function(b,c){this.x=b,this.y=c;},copyFrom:function(b){this.setTo(b.x,b.y);},equals:function(b){return this.x==b.x&&this.y==b.y;
},normalize:function(b){var c=this,d=b/c.length();c.x*=d,c.y*=d;},offset:function(c,b){this.x+=c;this.y+=b;},subtract:function(b){return new a(this.x-b.x,this.y-b.y);
}};return a;})();var LRectangle=(function(){function a(b,f,c,e){var d=this;d.x=b;d.y=f;d.width=c;d.height=e;d.setRectangle();}a.prototype={setRectangle:function(){var b=this;
b.bottom=b.y+b.height;b.right=b.x+b.width;b.left=b.x;b.top=b.y;},clone:function(){var b=this;return new a(b.x,b.y,b.width,b.height);},contains:function(b,d){var c=this;
return b>=c.x&&b<=c.right&&d>=c.y&&d<=c.bottom;},containsRect:function(c){var b=this;return c.x>=b.x&&c.right<=b.right&&c.y>=b.y&&c.bottom<=b.bottom;},equals:function(b){var c=this;
return b.x==c.x&&b.width==c.width&&b.y==c.y&&b.height==c.height;},inflate:function(c,b){var d=this;d.width+=c;d.height+=b;d.setRectangle();},intersection:function(d){var e=this;
var c=e.x>d.x?e.x:d.x;var b=e.y>d.y?e.y:d.y;var g=e.right>d.right?d.right:e.right;var f=e.bottom>d.bottom?d.bottom:e.bottom;if(c<=g&&b<=f){return new a(c,b,g,f);
}else{return new a(0,0,0,0);}},intersects:function(d){var e=this;var c=e.x>d.x?e.x:d.x;var b=e.y>d.y?e.y:d.y;var g=e.right>d.right?d.right:e.right;var f=e.bottom>d.bottom?d.bottom:e.bottom;
return c<=g&&b<=f;},isEmpty:function(){var b=this;return b.x==0&&b.y==0&&b.width==0&&b.height==0;},offset:function(c,b){var d=this;d.x+=c;d.y+=b;d.setRectangle();
},setEmpty:function(){var b=this;b.x=0;b.y=0;b.width=0;b.height=0;b.setRectangle();},setTo:function(f,c,b,e){var d=this;d.x=f;d.y=c;d.width=b;d.height=e;
d.setRectangle();},toString:function(){var b=this;return"[object LRectangle("+b.x+","+b.y+","+b.width+","+b.height+")]";},union:function(b){var c=this;
return new a(c.x>b.x?b.x:c.x,c.y>b.y?b.y:c.y,c.right>b.right?c.right:b.right,c.bottom>b.bottom?c.bottom:b.bottom);}};return a;})();var LGraphics=(function(){function b(){var d=this;
LExtends(d,LObject,[]);d.type="LGraphics";d.color="#000000";d.alpha=1;d.bitmap=null;d.setList=new Array();d.showList=new Array();}var c={ll_show:function(){var f=this,e,d=f.setList.length;
if(d==0){return;}for(e=0;e<d;e++){f.setList[e]();}},clone:function(){var g=this,e=new b(),f,d,h;e.color=g.color;e.alpha=g.alpha;e.bitmap=g.bitmap;for(f=0,d=g.setList.length;
f<d;f++){h=g.setList[f];e.setList.push(h);}for(f=0,d=g.showList.length;f<d;f++){h=g.showList[f];e.showList.push(h);}return e;},lineCap:function(d){var e=this;
e.setList.push(function(){LGlobal.canvas.lineCap=d;});},lineJoin:function(d){var e=this;e.setList.push(function(){LGlobal.canvas.lineJoin=d;});},lineWidth:function(d){var e=this;
e.setList.push(function(){LGlobal.canvas.lineWidth=d;});},strokeStyle:function(e){var d=this;d.setList.push(function(){LGlobal.canvas.strokeStyle=e;});
},stroke:function(){var d=this;d.setList.push(function(){LGlobal.canvas.stroke();});},beginPath:function(){var d=this;d.setList.push(function(){LGlobal.canvas.beginPath();
});},closePath:function(){var d=this;d.setList.push(function(){LGlobal.canvas.closePath();});},moveTo:function(d,f){var e=this;e.setList.push(function(){LGlobal.canvas.moveTo(d,f);
});},lineTo:function(d,f){var e=this;e.setList.push(function(){LGlobal.canvas.lineTo(d,f);});},rect:function(d,j,e,g){var f=this;f.setList.push(function(){LGlobal.canvas.rect(d,j,e,g);
});f.showList.push({type:LShape.RECT,arg:[d,j,e,g]});},fillStyle:function(e){var d=this;d.setList.push(function(){LGlobal.canvas.fillStyle=e;});},fill:function(){var d=this;
d.setList.push(function(){LGlobal.canvas.fill();});},arc:function(e,k,h,d,g,j){var f=this;f.setList.push(function(){LGlobal.canvas.arc(e,k,h,d,g,j);});
f.showList.push({type:LShape.ARC,arg:d});},lineStyle:function(d,f){var e=this,g;if(f==null){f=e.color;}e.color=f;e.setList.push(function(){g=LGlobal.canvas;
g.lineWidth=d;g.strokeStyle=f;});},clear:function(){var d=this;d.bitmap=null;d.setList.length=0;d.showList.length=0;},beginBitmapFill:function(d){var e=this;
e.setList.push(function(){e.bitmap=d;});},drawEllipse:function(d,h,g,e,j){var f=this;f.setList.push(function(){var z,B,A,C,q,p,o,m,D,t,r,n;z=LGlobal.canvas;
z.beginPath();p=0.5522848;B=g[0];A=g[1];C=g[2];q=g[3];o=(C/2)*p;m=(q/2)*p;D=B+C;t=A+q;r=B+C/2;n=A+q/2;z.moveTo(B,n);z.bezierCurveTo(B,n-m,r-o,A,r,A);z.bezierCurveTo(r+o,A,D,n-m,D,n);
z.bezierCurveTo(D,n+m,r+o,t,r,t);z.bezierCurveTo(r-o,t,B,n+m,B,n);if(f.bitmap){z.save();z.clip();z.drawImage(f.bitmap.image,f.bitmap.x,f.bitmap.y,f.bitmap.width,f.bitmap.height,0,0,f.bitmap.width,f.bitmap.height);
z.restore();f.bitmap=null;return;}if(e){z.fillStyle=j;z.fill();}if(d>0){z.lineWidth=d;z.strokeStyle=h;z.stroke();}});f.showList.push({type:LShape.RECT,arg:g});
},drawArc:function(d,h,g,e,j){var f=this;f.setList.push(function(){var k=LGlobal.canvas;k.beginPath();if(g.length>6&&g[6]){k.moveTo(g[0],g[1]);}k.arc(g[0],g[1],g[2],g[3],g[4],g[5]);
if(g.length>6&&g[6]){k.lineTo(g[0],g[1]);}if(f.bitmap){k.save();k.clip();k.drawImage(f.bitmap.image,f.bitmap.x,f.bitmap.y,f.bitmap.width,f.bitmap.height,0,0,f.bitmap.width,f.bitmap.height);
k.restore();f.bitmap=null;return;}if(e){k.fillStyle=j;k.fill();}if(d>0){k.lineWidth=d;k.strokeStyle=h;k.stroke();}});f.showList.push({type:LShape.ARC,arg:g});
},drawRect:function(d,h,g,e,j){var f=this;f.setList.push(function(){var k=LGlobal.canvas;k.beginPath();k.rect(g[0],g[1],g[2],g[3]);k.closePath();if(f.bitmap){k.save();
k.clip();k.drawImage(f.bitmap.image,f.bitmap.x,f.bitmap.y,f.bitmap.width,f.bitmap.height,0,0,f.bitmap.width,f.bitmap.height);k.restore();f.bitmap=null;
return;}if(e){k.fillStyle=j;k.fill();}if(d>0){k.lineWidth=d;k.strokeStyle=h;k.stroke();}});f.showList.push({type:LShape.RECT,arg:g});},drawRoundRect:function(d,h,g,e,j){var f=this;
f.setList.push(function(){var k=LGlobal.canvas;k.beginPath();k.moveTo(g[0]+g[4],g[1]);k.lineTo(g[0]+g[2]-g[4],g[1]);k.arcTo(g[0]+g[2],g[1],g[0]+g[2],g[1]+g[4],g[4]);
k.lineTo(g[0]+g[2],g[1]+g[3]-g[4]);k.arcTo(g[0]+g[2],g[1]+g[3],g[0]+g[2]-g[4],g[1]+g[3],g[4]);k.lineTo(g[0]+g[4],g[1]+g[3]);k.arcTo(g[0],g[1]+g[3],g[0],g[1]+g[3]-g[4],g[4]);
k.lineTo(g[0],g[1]+g[4]);k.arcTo(g[0],g[1],g[0]+g[4],g[1],g[4]);k.closePath();if(f.bitmap){k.save();k.clip();k.drawImage(f.bitmap.image,0,0,f.bitmap.width,f.bitmap.height,0,0,f.bitmap.width,f.bitmap.height);
k.restore();f.bitmap=null;return;}if(e){k.fillStyle=j;k.fill();}if(d>0){k.lineWidth=d;k.strokeStyle=h;k.stroke();}});f.showList.push({type:LShape.RECT,arg:g});
},drawVertices:function(d,h,e,f,j){var g=this;if(e.length<3){return;}g.setList.push(function(){var o=LGlobal.canvas;o.beginPath();o.moveTo(e[0][0],e[0][1]);
var m,k=e.length,n;for(m=1;m<k;m++){n=e[m];o.lineTo(n[0],n[1]);}o.lineTo(e[0][0],e[0][1]);o.closePath();if(g.bitmap){o.save();o.clip();o.drawImage(g.bitmap.image,g.bitmap.x,g.bitmap.y,g.bitmap.width,g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height);
o.restore();g.bitmap=null;return;}if(f){o.fillStyle=j;o.fill();}if(d>0){o.lineWidth=d;o.strokeStyle=h;o.closePath();o.stroke();}});g.showList.push({type:LShape.VERTICES,arg:e});
},drawTriangles:function(k,d,o,n,e){var p=this;var h,g,f=d.length,m;p.setList.push(function(){m=LGlobal.canvas;var C=k,z,j,B;for(h=0,g=0;h<f;h+=3){z=0;
m.save();m.beginPath();m.moveTo(C[d[h]*2],C[d[h]*2+1]);m.lineTo(C[d[h+1]*2],C[d[h+1]*2+1]);m.lineTo(C[d[h+2]*2],C[d[h+2]*2+1]);m.lineTo(C[d[h]*2],C[d[h]*2+1]);
m.closePath();if(n){m.lineWidth=n;m.strokeStyle=e;m.stroke();}m.clip();if(h%6==0){B=-1;var A=(o[d[h+1+g]*2]-o[d[h+g]*2])*p.bitmap.width;var t=(o[d[h+2]*2+1]-o[d[h]*2+1])*p.bitmap.height;
if(g==0&&A<0){for(j=h+9;j<f;j+=3){if(o[d[h+2]*2+1]==o[d[j+2]*2+1]){g=j-h;break;}}if(g==0){g=f-h;}A=(o[d[h+1+g]*2]-o[d[h+g]*2])*p.bitmap.width;}if(h+g>=f){A=(o[d[h+g-f]*2]-o[d[h+1]*2])*p.bitmap.width;
B=o[d[h]*2]==1?0:p.bitmap.width*o[d[h]*2]+A;if(B>p.bitmap.width){B-=p.bitmap.width;}}else{B=p.bitmap.width*o[d[h+g]*2];}sh=p.bitmap.height*o[d[h]*2+1];
if(t<0){t=(o[d[h+2-(h>0?6:-6)]*2+1]-o[d[h-(h>0?6:-6)]*2+1])*p.bitmap.height;sh=0;}var y=(C[d[h+1]*2]-C[d[h]*2])/A;var x=(C[d[h+1]*2+1]-C[d[h]*2+1])/A;var r=(C[d[h+2]*2]-C[d[h]*2])/t;
var q=(C[d[h+2]*2+1]-C[d[h]*2+1])/t;m.transform(y,x,r,q,C[d[h]*2],C[d[h]*2+1]);m.drawImage(p.bitmap.image,p.bitmap.x+B,p.bitmap.y+sh,A,t,0,0,A,t);}else{var A=(o[d[h+2+g]*2]-o[d[h+1+g]*2])*p.bitmap.width;
var t=(o[d[h+2]*2+1]-o[d[h]*2+1])*p.bitmap.height;if(g==0&&A<0){for(j=h+9;j<f;j+=3){if(o[d[h+2]*2+1]==o[d[j+2]*2+1]){g=j-h;break;}}if(g==0){g=f-h;}A=(o[d[h+2+g]*2]-o[d[h+1+g]*2])*p.bitmap.width;
}if(h+1+g>=f){A=(o[d[h+1+g-f]*2]-o[d[h+2]*2])*p.bitmap.width;B=o[d[h+1]*2]==1?0:p.bitmap.width*o[d[h+1]*2]+A;if(B>p.bitmap.width){B-=p.bitmap.width;}}else{B=p.bitmap.width*o[d[h+1+g]*2];
}sh=p.bitmap.height*o[d[h]*2+1];if(t<0){t=(o[d[h+2-(h>0?6:-6)]*2+1]-o[d[h-(h>0?6:-6)]*2+1])*p.bitmap.height;sh=0;}var y=(C[d[h+2]*2]-C[d[h+1]*2])/A;var x=(C[d[h+2]*2+1]-C[d[h+1]*2+1])/A;
var r=(C[d[h+2]*2]-C[d[h]*2])/t;var q=(C[d[h+2]*2+1]-C[d[h]*2+1])/t;m.transform(y,x,r,q,C[d[h+1]*2],C[d[h+1]*2+1]);m.drawImage(p.bitmap.image,p.bitmap.x+B,p.bitmap.y+sh,A,t,0,-t,A,t);
}m.restore();}});},drawLine:function(d,g,f){var e=this;e.setList.push(function(){var h=LGlobal.canvas;h.beginPath();h.moveTo(f[0],f[1]);h.lineTo(f[2],f[3]);
h.lineWidth=d;h.strokeStyle=g;h.closePath();h.stroke();});},add:function(d){this.setList.push(d);},ismouseon:function(f,g){var d=this;if(f==null||f==UNDEFINED||d.showList.length==0||!d.parent){return false;
}return d.parent.ismouseonShapes(d.showList,f.offsetX,f.offsetY);},getWidth:function(){var m=this,h,n,j=0,d=0,g,f,e;for(h=0,f=m.showList.length;h<f;h++){if(m.showList[h].type==LShape.RECT){if(j>m.showList[h].arg[0]){j=m.showList[h].arg[0];
}if(d<m.showList[h].arg[0]+m.showList[h].arg[2]){d=m.showList[h].arg[0]+m.showList[h].arg[2];}}else{if(m.showList[h].type==LShape.ARC){if(j>m.showList[h].arg[0]-m.showList[h].arg[2]){j=m.showList[h].arg[0]-m.showList[h].arg[2];
}if(d<m.showList[h].arg[0]+m.showList[h].arg[2]){d=m.showList[h].arg[0]+m.showList[h].arg[2];}}else{if(m.showList[h].type==LShape.VERTICES){for(n=0,e=m.showList[h].arg.length;
n<e;n++){g=m.showList[h].arg[n];if(j>g[0]){j=g[0];}if(d<g[0]){d=g[0];}}}}}}m.left=j;return d-j;},getHeight:function(){var m=this,h=null,n=null,f,e,j=0,d=0,g;
for(h=0,f=m.showList.length;h<f;h++){if(m.showList[h].type==LShape.RECT){if(j>m.showList[h].arg[1]){j=m.showList[h].arg[1];}if(d<m.showList[h].arg[1]+m.showList[h].arg[3]){d=m.showList[h].arg[1]+m.showList[h].arg[3];
}}else{if(m.showList[h].type==LShape.ARC){if(j>m.showList[h].arg[1]-m.showList[h].arg[2]){j=m.showList[h].arg[1]-m.showList[h].arg[2];}if(d<m.showList[h].arg[1]+m.showList[h].arg[2]){d=m.showList[h].arg[1]+m.showList[h].arg[2];
}}else{if(m.showList[h].type==LShape.VERTICES){for(n=0,e=m.showList[h].arg.length;n<e;n++){g=m.showList[h].arg[n];if(j>g[1]){j=g[1];}if(d<g[1]){d=g[1];
}}}}}}m.top=j;return d-j;},startX:function(){var d=this;d.getWidth();return d.left;},startY:function(){var d=this;d.getHeight();return d.top;}};for(var a in c){b.prototype[a]=c[a];
}return b;})();var LShape=(function(){function a(){var d=this;LExtends(d,LInteractiveObject,[]);d.type="LShape";d.graphics=new LGraphics();d.graphics.parent=d;
}a.ARC="arc";a.RECT="rect";a.VERTICES="vertices";var c={_ll_show:function(e){var d=this;d.graphics.ll_show();},getWidth:function(f){var e=this,h,j,g=e.graphics.startX(),d=g+e.graphics.getWidth();
if(f&&e.mask){h=e.mask._startX?e.mask._startX():e.mask.startX();j=e.mask.getWidth();if(g<h){g=h;}if(d>h+j){d=h+j;}}e.ll_left=e.x+g;e.ll_right=e.x+d;return(d-g)*e.scaleX;
},getHeight:function(g){var f=this,j,e,h=f.graphics.startY(),d=h+f.graphics.getHeight();if(g&&f.mask){j=f.mask._startY?f.mask._startY():f.mask.startY();
e=f.mask.getHeight();if(h<j){h=j;}if(d>j+e){d=j+e;}}f.ll_top=f.y+h;f.ll_bottom=f.y+d;return(d-h)*f.scaleY;},_startX:function(){var d=this;d.getWidth();
return d.ll_left;},startX:function(){var d=this;return d._startX()*d.scaleX;},_startY:function(){var d=this;d.getHeight();return d.ll_top;},startY:function(){var d=this;
return d._startY()*d.scaleY;},clone:function(){var e=this,d=new a(),g,f;d.copyProperty(e);d.graphics=e.graphics.clone();d.graphics.parent=d;return d;},ismouseon:function(g,j){var f=this,d=false,h;
if(!f.visible||g==null){return false;}if(f.mask){if(!f.mask.parent){f.mask.parent=f.parent;}if(!f.mask.ismouseon(g,j)){return false;}}h={x:f.x*j.scaleX+j.x,y:f.y*j.scaleY+j.y,scaleX:j.scaleX*f.scaleX,scaleY:j.scaleY*f.scaleY};
if(f.graphics){d=f.graphics.ismouseon(g,h);}return d;},die:function(){var d=this;d.graphics.clear();}};for(var b in c){a.prototype[b]=c[b];}return a;})();
var LSprite=(function(){function c(){var d=this;LExtends(d,LDisplayObjectContainer,[]);d.type="LSprite";d.rotatex;d.rotatey;d.graphics=new LGraphics();
d.graphics.parent=d;d.box2dBody=null;d.shapes=new Array();}var b={setRotate:function(e){var d=this;if(d.box2dBody){d.box2dBody.SetAngle(e);}else{d.rotate=e;
}},_rotateReady:function(){var d=this;if(d.box2dBody){if((typeof d.rotatex)==UNDEFINED){d.getRotateXY();}d.x=d.box2dBody.GetPosition().x*LGlobal.box2d.drawScale-d.parent.x-d.rotatex;
d.y=d.box2dBody.GetPosition().y*LGlobal.box2d.drawScale-d.parent.y-d.rotatey;d.rotate=d.box2dBody.GetAngle();}},_ll_show:function(e){var d=this;d.graphics.ll_show();
LGlobal.show(d.childList);d._ll_debugShape();},startDrag:function(f){var d=this,e,g;if(d.ll_dragStart){return;}d.ll_touchPointID=f;d.ll_dragStartX=d.x;
d.ll_dragStartY=d.y;d.ll_dragMX=mouseX;d.ll_dragMY=mouseY;d.ll_dragStart=true;LGlobal.dragList.push(d);},stopDrag:function(){var f=this,e,d;for(e=0,d=LGlobal.dragList.length;
e<d;e++){if(f.objectIndex==LGlobal.dragList[e].objectIndex){f.ll_dragStart=false;LGlobal.dragList.splice(e,1);break;}}},getRotateXY:function(d,f){var e=this;
if(!d||!f){d=e.getWidth();f=e.getHeight();}e.rotatex=d/2;e.rotatey=f/2;},getWidth:function(h){var q=this,g,f,d,k,j,n,p,e=q.graphics.startX(),m=e+q.graphics.getWidth();
for(g=0,f=q.childList.length;g<f;g++){d=q.childList[g];if(typeof d.visible==UNDEFINED||!d.visible){continue;}k=d.x;if(typeof d._startX=="function"){k=d._startX();
}j=k+d.getWidth(h);if(k<e){e=k;}if(j>m){m=j;}}if(h&&q.mask){n=q.mask._startX?q.mask._startX():q.mask.startX();p=q.mask.getWidth();if(e<n){e=n;}if(m>n+p){m=n+p;
}}q.ll_left=q.x+e;q.ll_right=q.x+m;return(m-e)*q.scaleX;},getHeight:function(h){var q=this,g,f,e,n,m,p,j,k=q.graphics.startY(),d=k+q.graphics.getHeight();
for(g=0,f=q.childList.length;g<f;g++){e=q.childList[g];if(typeof e.visible==UNDEFINED||!e.visible){continue;}n=e.y;if(typeof e._startY=="function"){n=e._startY();
}m=n+e.getHeight(h);if(n<k){k=n;}if(m>d){d=m;}}if(h&&q.mask){p=q.mask._startY?q.mask._startY():q.mask.startY();j=q.mask.getHeight();if(k<p){k=p;}if(d>p+j){d=p+j;
}}q.ll_top=q.y+k;q.ll_bottom=q.y+d;return(d-k)*q.scaleY;},_startX:function(){var d=this;d.getWidth();return d.ll_left;},startX:function(){var d=this;return d._startX()*d.scaleX;
},_startY:function(){var d=this;d.getHeight();return d.ll_top;},startY:function(){var d=this;return d._startY()*d.scaleY;},_ll_loopframe:function(){this.dispatchEvent(LEvent.ENTER_FRAME);
},clone:function(){var g=this,e=new c(),j,h,f,d;e.copyProperty(g);e.graphics=g.graphics.clone();e.graphics.parent=e;e.childList.length=0;for(f=0,d=g.childList.length;
f<d;f++){j=g.childList[f];if(j.clone){h=j.clone();h.parent=e;e.childList.push(h);}}return e;},_mevent:function(f){var e=this,d;for(d=0;d<e.mouseList.length;
d++){var g=e.mouseList[d];if(g.type==f){return true;}}return false;},ll_dispatchMouseEvent:function(h,j,m,f,d){var g=this;for(a=0;a<g.mouseList.length;
a++){var k=g.mouseList[a];if(k.type==h){j.selfX=(f-(g.x*m.scaleX+m.x))/(m.scaleX*g.scaleX);j.selfY=(d-(g.y*m.scaleY+m.y))/(m.scaleY*g.scaleY);j.currentTarget=j.clickTarget=g;
if(!j.target){j.target=g;}k.listener(j,g);}}},ll_mouseout:function(m,j,n,g,d){var h=this;if(j==LMouseEvent.MOUSE_MOVE&&h.ll_mousein){h.ll_mousein=false;
if(h._mevent(LMouseEvent.MOUSE_OUT)){h.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OUT,m,n,g,d);}if(h.mouseChildren){for(var f=h.childList.length-1;f>=0;f--){if(h.childList[f].mouseEvent&&h.childList[f].ll_mouseout){h.childList[f].ll_mouseout(m,j,n,g,d);
}}}}},mouseEvent:function(n,o,g){if(!n){return false;}var q=this,j,h,f=n.offsetX,d=n.offsetY,m,p;if(!q.mouseEnabled||!q.visible){return false;}if(g==null){g={x:0,y:0,scaleX:1,scaleY:1};
}m=q.ismouseon(n,g);if(m){if(o==LMouseEvent.MOUSE_MOVE&&!q.ll_mousein){q.ll_mousein=true;if(q._mevent(LMouseEvent.MOUSE_OVER)){q.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OVER,n,g,f,d);
}}if(q.mouseChildren){p={x:q.x*g.scaleX+g.x,y:q.y*g.scaleY+g.y,scaleX:g.scaleX*q.scaleX,scaleY:g.scaleY*q.scaleY};for(h=q.childList.length-1;h>=0;h--){if(q.childList[h].mouseEvent){j=q.childList[h].mouseEvent(n,o,p);
if(j){n.target=q.childList[h];break;}}}if(q._mevent(o)){q.ll_dispatchMouseEvent(o,n,g,f,d);}}return true;}else{q.ll_mouseout(n,o,g,f,d);}return false;},hitTestPoint:function(d,g){var f=this,e=f.shapes;
if(!e||e.length==0){f.getWidth();f.getHeight();e=[{type:LShape.RECT,arg:[f.ll_left-f.x,f.ll_top-f.y,f.ll_right-f.ll_left,f.ll_bottom-f.ll_top]}];}return f.ismouseonShapes(e,d,g);
},hitTestObject:function(k){var t=this,d=t.shapes,g=k.shapes,f,q,h,e,r,n,p,o;if(!d||d.length==0){t.getWidth();t.getHeight();d=[{type:LShape.RECT,arg:[t.ll_left-t.x,t.ll_top-t.y,t.ll_right-t.ll_left,t.ll_bottom-t.ll_top]}];
}if(!g||g.length==0){k.getWidth();k.getHeight();g=[{type:LShape.RECT,arg:[k.ll_left-k.x,k.ll_top-k.y,k.ll_right-k.ll_left,k.ll_bottom-k.ll_top]}];}f=t.getRootMatrix();
q=k.getRootMatrix();for(h=d.length-1;h>=0;h--){e=d[h];o=t._changeShape(e.type,e.arg,f);for(r=g.length-1;r>=0;r--){n=g[r];p=k._changeShape(n.type,n.arg,q);
if(e.type==LShape.VERTICES||e.type==LShape.RECT){if(n.type==LShape.VERTICES||n.type==LShape.RECT){if(LGlobal.hitTestPolygon(o,p)){return true;}}else{if(n.type==LShape.ARC){if(LGlobal.hitTestPolygonArc(o,p)){return true;
}}}}else{if(n.type==LShape.VERTICES||n.type==LShape.RECT){if(LGlobal.hitTestPolygonArc(p,o)){return true;}}else{if(n.type==LShape.ARC){if(Math.sqrt((o[0]-p[0])*(o[0]-p[0])+(o[1]-p[1])*(o[1]-p[1]))<o[2]+p[2]){return true;
}}}}}}return false;},addShape:function(f,d){var e=this;if(f==LShape.VERTICES&&d.length<3){return;}e.shapes.push({type:f,arg:d});},clearShape:function(){var d=this;
d.shapes.length=0;},_ll_debugShape:function(){var h=this,g,e,n,m,d,f,k;if(!LGlobal.traceDebug||h.shapes.length==0){return;}for(g=0,e=h.shapes.length;g<e;
g++){n=h.shapes[g];m=LGlobal.canvas;d=n.arg;m.beginPath();if(n.type==LShape.RECT){m.rect(d[0],d[1],d[2],d[3]);}else{if(n.type==LShape.ARC){m.arc(d[0],d[1],d[2],0,2*Math.PI);
}else{if(n.type==LShape.VERTICES){m.moveTo(d[0][0],d[0][1]);for(f=1,k=d.length;f<k;f++){m.lineTo(d[f][0],d[f][1]);}m.lineTo(d[0][0],d[0][1]);}}}m.closePath();
m.strokeStyle="#00FF00";m.stroke();}},ismouseon:function(j,n){var h=this;if(!h.visible||j==null){return false;}if(h.mask){if(!h.mask.parent){h.mask.parent=h.parent;
}if(!h.mask.ismouseon(j,n)){return false;}}if(h.shapes&&h.shapes.length>0){return h.ismouseonShapes(h.shapes,j.offsetX,j.offsetY);}var f,g=false,d=h.childList,m={x:h.x*n.scaleX+n.x,y:h.y*n.scaleY+n.y,scaleX:n.scaleX*h.scaleX,scaleY:n.scaleY*h.scaleY};
if(h.graphics){g=h.graphics.ismouseon(j,m);}if(!g){for(f=d.length-1;f>=0;f--){if(d[f].ismouseon){g=d[f].ismouseon(j,m);}if(g){j.target=h.childList[f];break;
}}}return g;},die:function(){var f=this,e,g,d;f.graphics.clear();f.removeAllEventListener();f.stopDrag();if(f.box2dBody){f.clearBody();}for(e=0,g=f.childList,d=g.length;
e<d;e++){if(g[e].die){g[e].die();}}}};for(var a in b){c.prototype[a]=b[a];}return c;})();var LButton=(function(){function c(e,d,h,f){var g=this;LExtends(g,LSprite,[]);
g.type="LButton";g.addChild(e);if(!d){d=e;}else{g.addChild(d);}if(!h){h=d;}else{g.addChild(h);}if(!f){f=e;}else{g.addChild(f);}g.upState=g.bitmap_up=e;
g.overState=g.bitmap_over=d;g.downState=h;g.disableState=f;g._ll_down_sx=g.downState.scaleX;g._ll_down_sy=g.downState.scaleY;g.overState.visible=false;
g.downState.visible=false;g.upState.visible=true;g.buttonMode=true;g.staticMode=false;g._ll_cursorEnabled=true;g.setState(c.STATE_ENABLE);if(LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]){LMouseEventContainer.pushButton(g);
}g.addEventListener(LMouseEvent.MOUSE_DOWN,g.ll_modeDown);}c.STATE_DISABLE="disable";c.STATE_ENABLE="enable";var b={setState:function(e){var d=this;if(e==c.STATE_DISABLE){d.upState.visible=false;
d.overState.visible=false;d.downState.visible=false;d.disableState.visible=true;d.mouseEnabled=false;}else{if(e==c.STATE_ENABLE){d.overState.visible=false;
d.downState.visible=false;d.disableState.visible=false;d.upState.visible=true;d.mouseEnabled=true;}else{return;}}d.state=e;},ll_mouseout:function(j,h,k,f,d){var g=this;
if(!g.ll_mousein){return;}j.clickTarget=g;g.ll_modeOut(j);g.ll_mousein=false;},mouseEvent:function(g,f,h){if(!g){return false;}var d=this;if(f==LMouseEvent.MOUSE_MOVE&&d.ll_button_mode){d.ll_button_mode(g);
}return this.callParent("mouseEvent",arguments);},ll_button_mode:function(f){var d=this;if(!d.visible){return;}f.clickTarget=d;if(d.hitTestPoint(f.offsetX,f.offsetY)){d.ll_modeOver(f);
}else{d.ll_modeOut(f);}},ll_modeDown:function(n){var r=n.clickTarget,q,k,m,d,p,o,j,g,f;if(!r.buttonMode||r.tween){return;}if(r.state==c.STATE_DISABLE){r.upState.visible=false;
r.overState.visible=false;r.downState.visible=false;r.disableState.visible=true;return;}r.upState.visible=false;r.overState.visible=false;r.downState.visible=true;
r._tweenOver=r.ll_modeOver;f=function(h){var e=h.parent;delete e.tween;e._tweenOver({clickTarget:e});delete e._tweenOver;};if(r.staticMode){r.tween=LTweenLite.to(r.downState,0.3,{}).to(r.downState,0.1,{onComplete:f});
}else{q=r.downState.getWidth();k=r.downState.getHeight();m=q*1.1;d=k*1.1;p=r.downState.x;o=r.downState.y;j=p+(q-m)*0.5;g=o+(k-d)*0.5;r.tween=LTweenLite.to(r.downState,0.3,{x:j,y:g,scaleX:r._ll_down_sx*1.1,scaleY:r._ll_down_sy*1.1,ease:Quart.easeOut}).to(r.downState,0.1,{x:p,y:o,scaleX:r._ll_down_sx,scaleY:r._ll_down_sy,ease:Quart.easeOut,onComplete:f});
}},ll_modeOver:function(f){var d=f.clickTarget;if(!d.buttonMode){return;}if(d.tween){d._tweenOver=d.ll_modeOver;return;}if(d.state==c.STATE_DISABLE){d.upState.visible=false;
d.overState.visible=false;d.downState.visible=false;d.disableState.visible=true;return;}d.upState.visible=false;d.downState.visible=false;d.overState.visible=true;
if(LGlobal.os==OS_PC&&d._ll_cursorEnabled){document.body.style.cursor="pointer";}},ll_modeOut:function(f){var d=f.clickTarget;if(!d.buttonMode){return;
}if(d.tween){d._tweenOver=d.ll_modeOut;return;}if(d.state==c.STATE_DISABLE){d.upState.visible=false;d.overState.visible=false;d.downState.visible=false;
d.disableState.visible=true;return;}d.overState.visible=false;d.downState.visible=false;d.upState.visible=true;if(LGlobal.os==OS_PC&&d._ll_cursorEnabled){document.body.style.cursor="default";
}},setCursorEnabled:function(d){this._ll_cursorEnabled=d;if(!d&&document.body.style.cursor!="default"){document.body.style.cursor="default";}},clone:function(){var d=this;
return new c(d.upState.clone(),d.overState.clone(),d.downState.clone(),d.disableState.clone());},die:function(){var d=this;if(LGlobal.os==OS_PC&&!d.upState.visible){document.body.style.cursor="default";
}if(LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]){LMouseEventContainer.removeButton(d);}d.callParent("die",arguments);}};for(var a in b){c.prototype[a]=b[a];
}return c;})();function LBlendMode(){throw"LBlendMode cannot be instantiated";}LBlendMode.SOURCE_OVER="source-over";LBlendMode.SOURCE_ATOP="source-atop";
LBlendMode.SOURCE_IN="source-in";LBlendMode.SOURCE_OUT="source-out";LBlendMode.DESTINATION_OVER="destination-over";LBlendMode.DESTINATION_ATOP="destination-atop";
LBlendMode.DESTINATION_IN="destination-in";LBlendMode.DESTINATION_OUT="destination-out";LBlendMode.LIGHTER="lighter";LBlendMode.COPY="copy";LBlendMode.XOR="xor";
LBlendMode.NONE=null;LBlendMode.NORMAL=null;var LTextFieldType=function(){throw"LTextFieldType cannot be instantiated";};LTextFieldType.INPUT="input";LTextFieldType.DYNAMIC=null;
var LTextField=(function(){function c(){var d=this;LExtends(d,LInteractiveObject,[]);d.type="LTextField";d.texttype=null;d.text="";d.font="Arial";d.size="11";
d.color="#000000";d.weight="normal";d.textAlign="left";d.textBaseline="top";d.heightMode=c.HEIGHT_MODE_BOTTOM;d.stroke=false;d.lineWidth=1;d.lineColor="#000000";
d.width=150;d.height=d.size;d.displayAsPassword=false;d.wordWrap=false;d.multiline=false;d.numLines=1;d.speed=0;d._speedIndex=100;}c.HEIGHT_MODE_BOTTOM="bottom";
c.HEIGHT_MODE_BASELINE="baseline";var b={_showReady:function(e){var d=this;e.font=d.weight+" "+d.size+"pt "+d.font;e.textAlign=d.textAlign;e.textBaseline=d.textBaseline;
},_ll_show:function(r){var y=this,q,t,o,e,n,g,h,f,x,p;if(y.texttype==LTextFieldType.INPUT){y.inputBackLayer.ll_show();e=y.getRootCoordinate();if(LGlobal.inputBox.name=="input"+y.objectIndex){LGlobal.inputBox.style.marginTop=(parseInt(LGlobal.canvasObj.style.marginTop)+(((e.y+y.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height)>>>0))+"px";
LGlobal.inputBox.style.marginLeft=(parseInt(LGlobal.canvasObj.style.marginLeft)+(((e.x+y.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width)>>>0))+"px";
}if(LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex==y.objectIndex){return;}}t=y.text;if(y.displayAsPassword){t="";for(o=0,g=y.text.length;o<g;
o++){t+="*";}}r.fillStyle=y.color;if(y.stroke){r.strokeStyle=y.lineColor;r.lineWidth=y.lineWidth+1;}if(y.wordWrap||y.multiline){n=0,h=0,f=0,x=0;for(o=0,g=y.text.length;
o<g;o++){n=r.measureText(y.text.substr(h,o-h)).width;p=/(?:\r\n|\r|\n|¥n)/.exec(t.substr(o,1));if((y.wordWrap&&n>y.width)||p){n=0;h=o;f++;if(p){h++;}}if(!p){if(y.stroke){r.strokeText(t.substr(o,1),n,f*y.wordHeight,r.measureText(t).width);
}r.fillText(t.substr(o,1),n,f*y.wordHeight,r.measureText(t).width);}y.numLines=f;}y.height=(f+1)*y.wordHeight;}else{y.numLines=1;if(y.stroke){r.strokeText(t,0,0,r.measureText(t).width);
}r.fillText(t,0,0,r.measureText(t).width);}if(y.windRunning){y._ll_windRun();}},_wordHeight:function(e){var d=this;if(e>0){d.wordHeight=e;}else{d.wordWrap=false;
d.wordHeight=d.getHeight();}d.height=0;},setMultiline:function(d,f){var e=this;if(d){e._wordHeight(f);}e.multiline=d;},setWordWrap:function(d,f){var e=this;
if(d){e._wordHeight(f);}e.wordWrap=d;},setType:function(f,d){var e=this;if(e.texttype!=f&&f==LTextFieldType.INPUT){if(d==null||d.type!="LSprite"){e.inputBackLayer=new LSprite();
e.inputBackLayer.graphics.drawRect(1,"#000000",[0,-e.getHeight()*0.4,e.width,e.getHeight()*1.5]);}else{e.inputBackLayer=d;}e.inputBackLayer.parent=e;if(LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]){LMouseEventContainer.pushInputBox(e);
}}else{e.inputBackLayer=null;LMouseEventContainer.removeInputBox(e);}e.texttype=f;},ismouseon:function(j,h){var g=this,f,d;if(j==null||j==UNDEFINED){return false;
}if(!g.visible){return false;}if(h==null){h={x:0,y:0,scaleX:1,scaleY:1};}if(g.mask){if(!g.mask.parent){g.mask.parent=g.parent;}if(!g.mask.ismouseon(j,cd)){return false;
}}if(g.inputBackLayer){return g.inputBackLayer.ismouseon(j,{x:g.x*h.scaleX+h.x,y:g.y*h.scaleY+h.y,scaleX:h.scaleX*g.scaleX,scaleY:h.scaleY*g.scaleY});}return g.ismouseonShapes([{type:LShape.RECT,arg:[0,0,g._getWidth(),g._getHeight()]}],j.offsetX,j.offsetY);
},clone:function(){var e=this,d=new c();d.copyProperty(e);d.texttype=null;if(e.texttype==LTextFieldType.INPUT){d.setType(LTextFieldType.INPUT);}return d;
},mouseEvent:function(g,f,h){var e=this,d;if(e.inputBackLayer==null){return;}d=e.ismouseon(g,h);if(f!=LMouseEvent.MOUSE_DOWN||!d){return;}e.focus();},_ll_getValue:function(){if(LGlobal.inputBox.style.display!=NONE){LGlobal.inputTextField.text=LGlobal.inputTextBox.value;
LEvent.removeEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input);LGlobal.inputBox.style.display=NONE;LGlobal.inputTextField.dispatchEvent(LFocusEvent.FOCUS_OUT);
LGlobal.inputTextField=null;}},updateInput:function(){var d=this;if(d.texttype==LTextFieldType.INPUT&&LGlobal.inputTextField.objectIndex==d.objectIndex){LGlobal.inputTextBox.value=LGlobal.inputTextField.text;
}},_ll_input:function(f){var d=new LEvent(LTextEvent.TEXT_INPUT);d.keyCode=f.keyCode;LGlobal.inputTextField.text=LGlobal.inputTextBox.value;if(LGlobal.inputTextField.hasEventListener(LTextEvent.TEXT_INPUT)){f.returnValue=LGlobal.inputTextField.dispatchEvent(d);
}else{f.returnValue=true;}},focus:function(){var d=this,e,f;if(!d.parent){return;}if(d.texttype!=LTextFieldType.INPUT){return;}if(LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex!=d.objectIndex){d._ll_getValue();
}d.dispatchEvent(LFocusEvent.FOCUS_IN);e=d.getAbsoluteScale();LGlobal.inputBox.style.display="";LGlobal.inputBox.name="input"+d.objectIndex;LGlobal.inputTextField=d;
LGlobal.inputTextareaBoxObj.style.display=NONE;LGlobal.inputTextBoxObj.style.display=NONE;LGlobal.passwordBoxObj.style.display=NONE;if(d.displayAsPassword){LGlobal.inputTextBox=LGlobal.passwordBoxObj;
}else{if(d.multiline){LGlobal.inputTextBox=LGlobal.inputTextareaBoxObj;}else{LGlobal.inputTextBox=LGlobal.inputTextBoxObj;}}f=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width;
sy=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height;LGlobal.inputTextBox.style.display="";LGlobal.inputTextBox.value=d.text;LGlobal.inputTextBox.style.height=d.inputBackLayer.getHeight()*e.scaleY*d.scaleY*sy+"px";
LGlobal.inputTextBox.style.width=d.inputBackLayer.getWidth()*e.scaleX*d.scaleX*f+"px";LGlobal.inputTextBox.style.color=d.color;LGlobal.inputTextBox.style.fontSize=((d.size*parseFloat(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height)>>0)+"px";
LGlobal.inputTextBox.style.fontFamily=d.font;LEvent.addEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input);if(d.texttype==LTextFieldType.INPUT){rc=d.getRootCoordinate();
if(LGlobal.inputBox.name=="input"+d.objectIndex){LGlobal.inputBox.style.marginTop=(parseInt(LGlobal.canvasObj.style.marginTop)+(((rc.y+d.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height)>>>0))+"px";
LGlobal.inputBox.style.marginLeft=(parseInt(LGlobal.canvasObj.style.marginLeft)+(((rc.x+d.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width)>>>0))+"px";
}}setTimeout(function(){LGlobal.inputTextBox.focus();},0);},_getWidth:function(){var d=this;if(d.wordWrap){return d.width;}LGlobal.canvas.font=d.size+"pt "+d.font;
return LGlobal.canvas.measureText(d.text).width;},getWidth:function(f){var e=this,d,g,h;d=e._getWidth()*e.scaleX;if(f&&e.mask){g=e.mask._startX?e.mask._startX():e.mask.startX();
if(g>d){return 0;}h=e.mask.getWidth();if(g+h>d){return d-g;}else{return h;}}return d;},_getHeight:function(){var n=this,p=LGlobal.canvas,h,e,g,f,d,o;if(n.wordWrap){p.font=n.weight+" "+n.size+"pt "+n.font;
if(n.height==0){g=0,f=0,d=0;for(h=0,e=n.text.length;h<e;h++){g=p.measureText(n.text.substr(f,h-f)).width;o=/(?:\r\n|\r|\n|¥n)/.exec(n.text.substr(h,1));
if((n.wordWrap&&g>n.width)||o){g=0;f=h;d++;if(o){f++;}}}n.height=(d+1)*n.wordHeight;}return n.height;}p.font=n.weight+" "+n.size+"pt "+n.font;e=p.measureText("O").width*1.2;
if(n.heightMode==c.HEIGHT_MODE_BASELINE){e=e*1.2;}return e;},getHeight:function(g){var f=this,e,j,d;e=f._getHeight()*f.scaleY;if(g&&f.mask){j=f.mask._startY?f.mask._startY():f.mask.startY();
if(j>e){return 0;}d=f.mask.getHeight();if(j+d>e){return e-j;}else{return d;}}return e;},wind:function(e){var d=this;d.wind_over_function=e;d.windRunning=true;
d._ll_wind_text=d.text;d.text="";d._ll_wind_length=0;},_ll_windRun:function(){var d=this;if(d._speedIndex++<d.speed){return;}d._speedIndex=0;if(d._ll_wind_length>d._ll_wind_text.length){d.windRunning=false;
if(d.wind_over_function){d.wind_over_function();}d.dispatchEvent(new LEvent(LTextEvent.WIND_COMPLETE));return;}d.text=d._ll_wind_text.substring(0,d._ll_wind_length);
d._ll_wind_length++;},die:function(){LMouseEventContainer.removeInputBox(this);}};for(var a in b){c.prototype[a]=b[a];}return c;})();var LBitmap=(function(){function a(e){var d=this;
LExtends(d,LDisplayObject,[]);d.type="LBitmap";d.rotateCenter=true;d.bitmapData=e;if(d.bitmapData){d.width=d.bitmapData.width;d.height=d.bitmapData.height;
}}var c={_canShow:function(){return(this.visible&&this.bitmapData);},_rotateReady:function(){var d=this;if(d.rotate!=0&&d.rotateCenter){d.rotatex=d.getWidth()*0.5;
d.rotatey=d.getHeight()*0.5;}else{d.rotatex=d.rotatey=0;}},_coordinate:function(d){},_ll_show:function(){this.ll_draw();},ll_draw:function(){var d=this;
LGlobal.canvas.drawImage(d.bitmapData.image,d.bitmapData.x,d.bitmapData.y,d.bitmapData.width,d.bitmapData.height,d.x,d.y,d.bitmapData.width,d.bitmapData.height);
},clone:function(){var e=this,d=new a(e.bitmapData.clone());d.copyProperty(e);d.rotateCenter=e.rotateCenter;return d;},ismouseon:function(g,f){var d=this;
if(g==null||g==UNDEFINED){return false;}if(!d.visible||!d.bitmapData){return false;}if(d.mask){if(!d.mask.parent){d.mask.parent=d.parent;}if(!d.mask.ismouseon(g,cd)){return false;
}}return d.ismouseonShapes([{type:LShape.RECT,arg:[0,0,d.bitmapData.width,d.bitmapData.height]}],g.offsetX,g.offsetY);},getWidth:function(f){var e=this,d,g,h;
d=e.bitmapData!=null?e.bitmapData.width*(e.scaleX>0?e.scaleX:-e.scaleX):0;if(f&&e.mask){g=e.mask._startX?e.mask._startX():e.mask.startX();if(g>d){return 0;
}h=e.mask.getWidth();if(g+h>d){return d-g;}else{return h;}}return d;},getHeight:function(g){var f=this,e,j,d;e=f.bitmapData!=null?f.bitmapData.height*(f.scaleY>0?f.scaleY:-f.scaleY):0;
if(g&&f.mask){j=f.mask._startY?f.mask._startY():f.mask.startY();if(j>e){return 0;}d=f.mask.getHeight();if(j+d>e){return e-j;}else{return d;}}return e;},startX:function(){return this.x;
},startY:function(){return this.y;},die:function(){}};for(var b in c){a.prototype[b]=c[b];}return a;})();var LBitmapData=(function(){function b(f,m,j,e,n,k){var o=this;
LExtends(o,LObject,[]);o.type="LBitmapData";if(typeof k==UNDEFINED){k=b.DATA_IMAGE;}o.oncomplete=null;o._locked=false;o._setPixel=false;o.x=(m==null?0:m);
o.y=(j==null?0:j);o.width=0;o.height=0;o.dataType=null;if(f&&typeof f=="object"){o.image=f;o.dataType=b.DATA_IMAGE;o.width=(e==null?o.image.width:e);o.height=(n==null?o.image.height:n);
o._setDataType(k);}else{o._createCanvas();o.dataType=b.DATA_CANVAS;o._canvas.width=o.width=(e==null?1:e);o._canvas.height=o.height=(n==null?1:n);if(typeof f=="string"){f=parseInt(f.replace("#","0x"));
}if(typeof f=="number"){var h=o._context.createImageData(o.width,o.height);for(var g=0;g<h.data.length;g+=4){h.data[g+0]=f>>16&255;h.data[g+1]=f>>8&255;
h.data[g+2]=f&255;h.data[g+3]=255;}o._context.putImageData(h,0,0);}o.image=o._canvas;if(k==b.DATA_IMAGE){o._setDataType(k);}}o.resize();}b.DATA_IMAGE="data_image";
b.DATA_CANVAS="data_canvas";var c={_setDataType:function(d){var e=this;if(e.dataType==d){return;}if(d==b.DATA_CANVAS){e._createCanvas();e._canvas.width=e.image.width;
e._canvas.height=e.image.height;e._context.clearRect(0,0,e._canvas.width,e._canvas.height);e._context.drawImage(e.image,0,0);e.image=e._canvas;}else{if(d==b.DATA_IMAGE){e.image=new Image();
e.image.width=e._canvas.width;e.image.height=e._canvas.height;e.image.src=e._canvas.toDataURL();}}e.dataType=d;},_createCanvas:function(){var d=this;if(!d._canvas){d._canvas=document.createElement("canvas");
d._context=d._canvas.getContext("2d");}},setProperties:function(e,h,g,d){var f=this;f.x=e;f.y=h;f.width=g;f.height=d;f.resize();},setCoordinate:function(d,f){var e=this;
e.x=d;e.y=f;e.resize();},clone:function(){var d=this;var e=new b(d.image,d.x,d.y,d.width,d.height,d.dataType);return e;},_ready:function(){var d=this;d._dataType=d.dataType;
d._setDataType(b.DATA_CANVAS);d._data=d._context.getImageData(d.x,d.y,d.width,d.height);},_update:function(){var d=this;d._context.putImageData(d._data,d.x,d.y,0,0,d.width,d.height);
d._setDataType(d._dataType);},getPixel:function(e,k,f){var h=this,g,j;e=e>>0;k=k>>0;if(!h._locked){h._ready();}g=h.width*4*k+e*4;j=h._data.data;if(!h._locked){h._update();
}if(f=="number"){return j[g]<<16|j[g+1]<<8|j[g+2];}else{return[j[g],j[g+1],j[g+2],j[g+3]];}},setPixel:function(e,k,h){var g=this;e=e>>0;k=k>>0;if(!g._locked){g._ready();
}var j=g._data,f=g._canvas.width*4*(g.y+k)+(g.x+e)*4;if(typeof h=="object"){j.data[f+0]=h[0];j.data[f+1]=h[1];j.data[f+2]=h[2];j.data[f+3]=h[3];}else{if(typeof h=="string"){h=parseInt(h.replace("#","0x"));
}j.data[f+0]=h>>16&255;j.data[f+1]=h>>8&255;j.data[f+2]=h&255;j.data[f+3]=255;}if(!g._locked){g._update();}},getPixels:function(f){var d=this,e;if(!d._locked){d._ready();
}e=d._context.getImageData(d.x+f.x,d.y+f.y,f.width,f.height);if(!d._locked){d._update();}return e;},setPixels:function(n,f){var q=this,g,e,h,p,k,o,m;if(!q._locked){q._ready();
}h=q._data;if(typeof f=="object"){p=q._canvas.width;for(o=n.x;o<n.right;o++){for(m=n.y;m<n.bottom;m++){g=p*4*(q.y+m)+(q.x+o)*4;e=f.width*4*(m-n.y)+(o-n.x)*4;
h.data[g+0]=f.data[e+0];h.data[g+1]=f.data[e+1];h.data[g+2]=f.data[e+2];h.data[g+3]=f.data[e+3];}}}else{if(typeof f=="string"){f=parseInt(f.replace("#","0x"));
}f=[f>>16&255,f>>8&255,f&255];p=q._canvas.width;for(o=n.x;o<n.right;o++){for(m=n.y;m<n.bottom;m++){g=p*4*(q.y+m)+(q.x+o)*4;h.data[g+0]=f[0];h.data[g+1]=f[1];
h.data[g+2]=f[2];h.data[g+3]=255;}}}if(!q._locked){q._update();}},putPixels:function(e,f){var d=this;if(d.dataType!=b.DATA_CANVAS||typeof f!="object"){return;
}d._context.putImageData(f,d.x+e.x,d.y+e.y,0,0,e.width,e.height);},lock:function(){var d=this;d._locked=true;d._ready();},unlock:function(){var d=this;
d._locked=false;d._update();},draw:function(e){var d=this;if(d.dataType==b.DATA_CANVAS){d._context.clearRect(0,0,d.width,d.height);d._context.drawImage(e.getDataCanvas(),0,0);
}else{if(d.dataType==b.DATA_IMAGE){d.image.src=e.getDataURL();}}d.resize();},resize:function(){var f=this,d=f.image.width-f.x,e=f.image.height-f.y;f.width=f.width<d?f.width:d;
f.height=f.height<e?f.height:e;}};for(var a in c){b.prototype[a]=c[a];}return b;})();var LDropShadowFilter=(function(){function c(h,g,d,f){var e=this;LExtends(e,LObject,[]);
e.type="LDropShadowFilter";e.distance=h?h:0;e.angle=g?g:0;e.shadowColor=d?d:"#000000";e.shadowBlur=f?f:20;e.setShadowOffset();}var b={setShadowOffset:function(){var e=this;
var d=e.angle*Math.PI/180;e.shadowOffsetX=e.distance*Math.cos(d);e.shadowOffsetY=e.distance*Math.sin(d);},ll_show:function(){var d=this,e=LGlobal.canvas;
e.shadowColor=d.shadowColor;e.shadowBlur=d.shadowBlur;e.shadowOffsetX=d.shadowOffsetX;e.shadowOffsetY=d.shadowOffsetY;},setDistance:function(d){this.distance=d;
this.setShadowOffset();},setAngle:function(d){this.angle=d;this.setShadowOffset();},setColor:function(d){this.shadowColor=d;},setBlur:function(d){this.shadowBlur=d;
}};for(var a in b){c.prototype[a]=b[a];}return c;})();var LAnimation=(function(){function b(d,g,f){var e=this;LExtends(e,LSprite,[]);e.type="LAnimation";
e.rowIndex=0;e.colIndex=0;e._ll_stepIndex=0;e._ll_stepArray=[];e.mode=1;e.isMirror=false;e.bitmap=new LBitmap(g);e.imageArray=f;e.addChild(e.bitmap);if(d!=null){d.addChild(e);
}e.onframe();e.colIndex=0;}var c={setAction:function(h,d,g,f){var e=this;if(h!=null&&h>=0&&h<e.imageArray.length){e.rowIndex=h;}if(d!=null&&d>=0&&d<e.imageArray[h].length){e.colIndex=d;
}if(g!=null){e.mode=g;}if(f!=null){e.isMirror=f;if(e.isMirror){e.bitmap.x=e.bitmap.getWidth();e.bitmap.scaleX=-1*Math.abs(e.bitmap.scaleX);}else{e.bitmap.x=0;
e.bitmap.scaleX=Math.abs(e.bitmap.scaleX);}}},getAction:function(){var d=this;return[d.rowIndex,d.colIndex,d.mode,d.isMirror];},onframe:function(){var f=this,d=f.imageArray[f.rowIndex][f.colIndex],e=null;
if(f._ll_stepArray[f.rowIndex]&&f._ll_stepArray[f.rowIndex][f.colIndex]){e=f._ll_stepArray[f.rowIndex][f.colIndex];}if(typeof d.width!=UNDEFINED&&typeof d.height!=UNDEFINED){f.bitmap.bitmapData.setProperties(d.x,d.y,d.width,d.height);
}else{f.bitmap.bitmapData.setCoordinate(d.x,d.y);}if(typeof d.sx!=UNDEFINED){f.bitmap.x=d.sx;}if(typeof d.sy!=UNDEFINED){f.bitmap.y=d.sy;}if(typeof d.script=="function"){d.script(f,d.params);
}if(e){if(f._ll_stepIndex++<e){return;}f._ll_stepIndex=0;}f.colIndex+=f.mode;if(f.colIndex>=f.imageArray[f.rowIndex].length||f.colIndex<0){f.colIndex=f.mode>0?0:f.imageArray[f.rowIndex].length-1;
f.dispatchEvent(LEvent.COMPLETE);}},clone:function(){var e=this,d=new b(null,e.bitmap.bitmapData,e.imageArray.slice(0));d.copyProperty(e);d.childList.length=0;
d.bitmap=e.bitmap.clone();d.addChild(d.bitmap);return d;}};for(var a in c){b.prototype[a]=c[a];}return b;})();var LAnimationTimeline=(function(){function c(f,e){var d=this;
LExtends(d,LAnimation,[null,f,e]);d.type="LAnimationTimeline";d.speed=0;d._speedIndex=0;d.ll_labelList={};d.addEventListener(LEvent.ENTER_FRAME,d._ll_onframe);
}var b={clone:function(){var f=this,e,g,d=new LAnimation(null,f.bitmap.bitmapData,f.imageArray.slice(0));d.copyProperty(f);d.childList.length=0;d.bitmap=f.bitmap.clone();
d.addChild(d.bitmap);for(e in f.ll_labelList){g=f.ll_labelList[e];d.ll_labelList[e]={rowIndex:g.rowIndex,colIndex:g.colIndex,mode:g.mode,isMirror:g.isMirror};
}return d;},setFrameSpeedAt:function(g,d,f){var e=this;if(!e._ll_stepArray[g]){e._ll_stepArray[g]=[];}e._ll_stepArray[g][d]=f;},_ll_onframe:function(e){var d=e.target;
if(d._speedIndex++<d.speed){return;}d._speedIndex=0;d.onframe();},setLabel:function(e,d,f,h,g){this.ll_labelList[e]={rowIndex:d,colIndex:f,mode:h,isMirror:g};
},play:function(){this.mode=this.saveMode;},stop:function(){this.saveMode=this.mode;this.mode=0;},gotoAndPlay:function(e){var d=this.ll_labelList[e];this.setAction(d.rowIndex,d.colIndex,d.mode,d.isMirror);
this.onframe();},gotoAndStop:function(e){var f=this,d=f.ll_labelList[e];f.setAction(d.rowIndex,d.colIndex,d.mode,d.isMirror);f.onframe();f.stop();},addFrameScript:function(f,g,h){var e=this.ll_labelList[f];
var d=this.imageArray[e.rowIndex][e.colIndex];d.script=g;d.params=h?h:null;},removeFrameScript:function(e){var d=this.ll_labelList[e];this.imageArray[d.rowIndex][d.colIndex].script=null;
}};for(var a in b){c.prototype[a]=b[a];}return c;})();var LLoadManage=(function(){function a(){this.llname="ll.file.";this.llload="ll.load.";}a.prototype={load:function(b,d,f){var e=this;
e.list=b,e.onupdate=d,e.oncomplete=f;e.loader=e,e.index=0,e.loadIndex=0,e.result=[],e.lresult=[];e.loadInit();},loadInit:function(){var b=this;if(b.index>=b.list.length){return;
}b.loadIndex=0;b.loadStart();b.reloadtime=setTimeout(b.loadInit.bind(b),10000);},loadStart:function(){var c=this,g,f,e,b;if(c.loadIndex>=c.list.length){return;
}g=c.list[c.loadIndex];if(!g.name){g.name=c.llname+c.loadIndex;}if(!c.lresult[c.llload+g.name]){if(!g.type){b=getExtension(g.path);if(b=="txt"){g.type=LURLLoader.TYPE_TEXT;
}else{if(b=="js"){g.type=LURLLoader.TYPE_JS;}else{if((new Array("mp3","ogg","wav","m4a")).indexOf(b)>=0){g.type=LSound.TYPE_SOUND;}}}}if(g.type==LURLLoader.TYPE_TEXT||g.type==LURLLoader.TYPE_JS){c.loader=new LURLLoader();
c.loader.name=g.name;c.loader.addEventListener(LEvent.COMPLETE,c.loadComplete.bind(c));c.loader.load(c.url(g.path),g.type);}else{if(g.type==LSound.TYPE_SOUND){c.loader=new LSound();
c.loader.name=g.name;c.loader.addEventListener(LEvent.COMPLETE,c.loadComplete.bind(c));c.loader.load(c.url(g.path));}else{c.loader=new LLoader();c.loader.name=g.name;
c.loader.addEventListener(LEvent.COMPLETE,c.loadComplete.bind(c));c.loader.load(c.url(g.path),LLoader.TYPE_BITMAPDATE);}}}c.loadIndex++;c.loadStart();},loadComplete:function(d){var b=this;
if(d&&d.currentTarget&&d.currentTarget.name){d.currentTarget.removeEventListener(LEvent.COMPLETE,b.loadComplete);if(d.currentTarget.name.indexOf(b.llname)>=0){d.target=1;
}if(b.lresult[b.llload+d.currentTarget.name]){return;}b.result[d.currentTarget.name]=d.target;b.lresult[b.llload+d.currentTarget.name]=1;}b.index++;if(b.onupdate){b.onupdate(Math.floor(b.index*100/b.list.length));
}if(b.index>=b.list.length){if(b.reloadtime){clearTimeout(b.reloadtime);}b.loader=null;var c=b.result;LGlobal.forceRefresh=true;b.oncomplete(c);}},url:function(b){if(!LGlobal.traceDebug){return b;
}return b+(b.indexOf("?")>=0?"&":"?")+"t="+(new Date()).getTime();}};return new a();})();var LEasing={None:{easeIn:function(e,a,g,f){return a+e*g/f;},easeOut:function(e,a,g,f){return a+e*g/f;
},easeInOut:function(e,a,g,f){return a+e*g/f;}},Quad:{easeIn:function(e,a,g,f){return g*(e/=f)*e+a;},easeOut:function(e,a,g,f){return -g*(e/=f)*(e-2)+a;
},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e+a;}return -g/2*((--e)*(e-2)-1)+a;}},Cubic:{easeIn:function(e,a,g,f){return g*(e/=f)*e*e+a;},easeOut:function(e,a,g,f){return g*((e=e/f-1)*e*e+1)+a;
},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e*e+a;}return g/2*((e-=2)*e*e+2)+a;}},Quart:{easeIn:function(e,a,g,f){return g*(e/=f)*e*e*e+a;
},easeOut:function(e,a,g,f){return -g*((e=e/f-1)*e*e*e-1)+a;},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e*e*e+a;}return -g/2*((e-=2)*e*e*e-2)+a;
}},Quint:{easeIn:function(e,a,g,f){return g*(e/=f)*e*e*e*e+a;},easeOut:function(e,a,g,f){return g*((e=e/f-1)*e*e*e*e+1)+a;},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e*e*e*e+a;
}return g/2*((e-=2)*e*e*e*e+2)+a;}},Sine:{easeIn:function(e,a,g,f){return -g*Math.cos(e/f*(Math.PI/2))+g+a;},easeOut:function(e,a,g,f){return g*Math.sin(e/f*(Math.PI/2))+a;
},easeInOut:function(e,a,g,f){return -g/2*(Math.cos(Math.PI*e/f)-1)+a;}},Strong:{easeIn:function(e,a,g,f){return g*(e/=f)*e*e*e*e+a;},easeOut:function(e,a,g,f){return g*((e=e/f-1)*e*e*e*e+1)+a;
},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e*e*e*e+a;}return g/2*((e-=2)*e*e*e*e+2)+a;}},Expo:{easeIn:function(e,a,g,f){return(e==0)?a:g*Math.pow(2,10*(e/f-1))+a;
},easeOut:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a;},easeInOut:function(e,a,g,f){if(e==0){return a;}if(e==f){return a+g;}if((e/=f/2)<1){return g/2*Math.pow(2,10*(e-1))+a;
}return g/2*(-Math.pow(2,-10*--e)+2)+a;}},Circ:{easeIn:function(e,a,g,f){return -g*(Math.sqrt(1-(e/=f)*e)-1)+a;},easeOut:function(e,a,g,f){return g*Math.sqrt(1-(e=e/f-1)*e)+a;
},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return -g/2*(Math.sqrt(1-e*e)-1)+a;}return g/2*(Math.sqrt(1-(e-=2)*e)+1)+a;}},Elastic:{easeIn:function(g,e,m,k,f,j){var h;
if(g==0){return e;}if((g/=k)==1){return e+m;}if(!j){j=k*0.3;}if(!f||f<Math.abs(m)){f=m;h=j/4;}else{h=j/(2*Math.PI)*Math.asin(m/f);}return -(f*Math.pow(2,10*(g-=1))*Math.sin((g*k-h)*(2*Math.PI)/j))+e;
},easeOut:function(g,e,m,k,f,j){var h;if(g==0){return e;}if((g/=k)==1){return e+m;}if(!j){j=k*0.3;}if(!f||f<Math.abs(m)){f=m;h=j/4;}else{h=j/(2*Math.PI)*Math.asin(m/f);
}return(f*Math.pow(2,-10*g)*Math.sin((g*k-h)*(2*Math.PI)/j)+m+e);},easeInOut:function(g,e,m,k,f,j){var h;if(g==0){return e;}if((g/=k/2)==2){return e+m;
}if(!j){j=k*(0.3*1.5);}if(!f||f<Math.abs(m)){f=m;h=j/4;}else{h=j/(2*Math.PI)*Math.asin(m/f);}if(g<1){return -0.5*(f*Math.pow(2,10*(g-=1))*Math.sin((g*k-h)*(2*Math.PI)/j))+e;
}return f*Math.pow(2,-10*(g-=1))*Math.sin((g*k-h)*(2*Math.PI)/j)*0.5+m+e;}},Back:{easeIn:function(e,a,h,g,f){if(typeof f==UNDEFINED){f=1.70158;}return h*(e/=g)*e*((f+1)*e-f)+a;
},easeOut:function(e,a,h,g,f){if(typeof f==UNDEFINED){f=1.70158;}return h*((e=e/g-1)*e*((f+1)*e+f)+1)+a;},easeInOut:function(e,a,h,g,f){if(typeof f==UNDEFINED){f=1.70158;
}if((e/=g/2)<1){return h/2*(e*e*(((f*=(1.525))+1)*e-f))+a;}return h/2*((e-=2)*e*(((f*=(1.525))+1)*e+f)+2)+a;}},Bounce:{easeIn:function(e,a,g,f){return g-LEasing.Bounce.easeOut(f-e,0,g,f)+a;
},easeOut:function(e,a,g,f){if((e/=f)<(1/2.75)){return g*(7.5625*e*e)+a;}else{if(e<(2/2.75)){return g*(7.5625*(e-=(1.5/2.75))*e+0.75)+a;}else{if(e<(2.5/2.75)){return g*(7.5625*(e-=(2.25/2.75))*e+0.9375)+a;
}else{return g*(7.5625*(e-=(2.625/2.75))*e+0.984375)+a;}}}},easeInOut:function(e,a,g,f){if(e<f/2){return LEasing.Bounce.easeIn(e*2,0,g,f)*0.5+a;}return LEasing.Bounce.easeOut(e*2-f,0,g,f)*0.5+g*0.5+a;
}}};var Quad=LEasing.Quad,Cubic=LEasing.Cubic,Quart=LEasing.Quart,Quint=LEasing.Quint,Sine=LEasing.Sine,Strong=LEasing.Strong,Expo=LEasing.Expo,Circ=LEasing.Circ,Elastic=LEasing.Elastic,Back=LEasing.Back,Bounce=LEasing.Bounce;
var LTweenLite=(function(){function e(f,h,g){var j=this;LExtends(j,LObject,[]);j.type="LTweenLiteChild";j.toNew=[];j.init(f,h,g);}var d={init:function(f,j,h){var m=this,g=null;
m.target=f;m.duration=j||0.001;m.duration*=1000;m.vars=h;m.currentTime=0;m.delay=m.vars.delay||0;m.combinedTimeScale=m.vars.timeScale||1;m.active=m.duration==0&&m.delay==0;
m.varsto={};m.varsfrom={};m.stop=false;if(typeof(m.vars.ease)!="function"){m.vars.ease=LEasing.None.easeIn;}m.ease=m.vars.ease;delete m.vars.ease;if(m.vars.onComplete){m.onComplete=m.vars.onComplete;
delete m.vars.onComplete;}if(m.vars.onUpdate){m.onUpdate=m.vars.onUpdate;delete m.vars.onUpdate;}if(m.vars.onStart){m.onStart=m.vars.onStart;delete m.vars.onStart;
}for(g in m.vars){m.varsto[g]=m.vars[g];m.varsfrom[g]=m.target[g];}m.currentTime-=m.delay*1000;},pause:function(){this.stop=true;},resume:function(){this.stop=false;
},tween:function(){var h=this,g;if(h.stop){return;}h.currentTime+=LGlobal.speed;if(h.currentTime<0){return;}for(g in h.varsto){var f=h.ease(h.currentTime,h.varsfrom[g],h.varsto[g]-h.varsfrom[g],h.duration);
h.target[g]=f;}if(h.onStart){h.onStart(h.target);delete h.onStart;}if(h.currentTime>=h.duration){for(g in h.varsto){h.target[g]=h.varsto[g];}if(h.onComplete){h.target.target=h.target;
h.target.currentTarget=h;h.onComplete(h.target);delete h.target.currentTarget;delete h.target.target;}return true;}else{if(h.onUpdate){h.onUpdate(h.target);
}}return false;},to:function(f,h,g){var j=this;j.toNew.push({target:f,duration:h,vars:g});return j;},keep:function(){var h=this,g,j,f;if(h.toNew.length>0){g=h.toNew.shift();
if(g.vars.loop){h.loop=true;}if(h.loop){j={};for(f in g.vars){j[f]=g.vars[f];}h.to(g.target,g.duration,j);}h.init(g.target,g.duration,g.vars);return true;
}return false;}};for(var a in d){e.prototype[a]=d[a];}function b(){LExtends(this,LObject,[]);this.type="LTweenLite";}d={tweens:[],ll_show:null,frame:function(){var h=this;
var g,j=h.tweens.length,f;for(g=0;g<j;g++){f=h.tweens[g];if(f&&f.tween&&f.tween()){h.tweens.splice(g,1);g--;j=h.tweens.length;if(f.keep()){h.add(f);}}}if(h.tweens.length==0){h.ll_show=null;
}},to:function(f,j,h){if(!f){return;}var k=this;var g=new e({},0,{});k.tweens.push(g);k.ll_show=k.frame;g.to(f,j,h);return g;},add:function(f){this.tweens.push(f);
},remove:function(f){var g=this;if(typeof f==UNDEFINED){return;}for(i=0,l=g.tweens.length;i<l;i++){if(f.objectIndex==g.tweens[i].objectIndex){g.tweens.splice(i,1);
break;}}},removeAll:function(){this.tweens.splice(0,this.tweens.length);}};for(var a in d){b.prototype[a]=d[a];}var c=new b();LGlobal.childList.push(c);
return c;})();var LAjax=(function(){function a(){this.responseType=null;}a.prototype={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",get:function(c,e,d,b){this.getRequest("GET",c,e,d,b);
},post:function(c,e,d,b){this.getRequest("POST",c,e,d,b);},getRequest:function(n,b,h,c,e){var o=this,f,g="",m="";o.err=e;var j=o.getHttp();if(!j){return;
}if(h){for(f in h){g+=(m+f+"="+h[f]);m="&";}}if(n.toLowerCase()=="get"){b+=((b.indexOf("?")>=0?"&":"?")+g);g=null;}j.open(n,b,true);if(o.responseType){j.responseType=o.responseType;
o.responseType=o.TEXT;}j.setRequestHeader("Content-Type","application/x-www-form-urlencoded");j.onreadystatechange=function(){if(j.readyState==4){if(j.status>=200&&j.status<300||j.status===304){if(c){if(j.responseType==o.ARRAY_BUFFER||j.responseType==o.BLOB){c(j.response);
}else{if(j.responseText.length>0){c(j.responseText);}else{c(null);}}}}else{if(e){e(j);}}}};j.send(g);},getHttp:function(){if(typeof XMLHttpRequest!=UNDEFINED){return new XMLHttpRequest();
}try{return new ActiveXObject("Msxml2.XMLHTTP");}catch(b){try{return new ActiveXObject("Microsoft.XMLHTTP");}catch(b){if(!this.err){this.err(b);}}}return false;
}};return new a();})();var LStageWebView=(function(){function b(){var d=this;LExtends(d,LEventDispatcher,[]);d.display=document.createElement("div");d.iframe=document.createElement("iframe");
d.display.style.position="absolute";d.display.style.marginTop="0px";d.display.style.marginLeft="0px";d.display.style.zIndex=11;d.display.appendChild(d.iframe);
d.idAdded=false;}var c={loadURL:function(d){var e=this;e.iframe.src=d;e.iframe.onload=function(){e.dispatchEvent(LEvent.COMPLETE);};},show:function(){var d=this;
if(!d.idAdded){LGlobal.object.appendChild(d.display);d.idAdded=true;}if(d.display.style.display=="none"){d.display.style.display="";}},die:function(){LGlobal.object.removeChild(this.display);
this.idAdded=false;},hide:function(){this.display.style.display="none";},setViewPort:function(e){var d=this,g=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,f=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height;
d.display.style.marginTop=(parseInt(LGlobal.canvasObj.style.marginTop)+((e.y*f)>>>0))+"px";d.display.style.marginLeft=(parseInt(LGlobal.canvasObj.style.marginLeft)+((e.x*g)>>>0))+"px";
d.iframe.style.width=d.display.style.width=(e.width*g>>>0)+"px";d.iframe.style.height=d.display.style.height=(e.height*f>>>0)+"px";}};for(var a in c){b.prototype[a]=c[a];
}return b;})();var FPS=(function(){function a(){var b=this;LExtends(b,LSprite,[]);b.fps=new LTextField();b.fpsCount=0;b.fpsTime=(new Date()).getTime();
b.fps.color="#ffffff";b.addChild(b.fps);b.addEventListener(LEvent.ENTER_FRAME,b.showFPS);}a.prototype.showFPS=function(c){c.fpsCount++;var b=(new Date()).getTime();
if(b-c.fpsTime<1000){return;}c.fps.text=Math.round(c.fpsCount*10000/(b-c.fpsTime))/10;c.fpsTime=b;c.fpsCount=0;c.graphics.clear();c.graphics.drawRect(0,"#000000",[0,0,c.fps.getWidth(),20],true,"#000000");
};return a;})();function LQuadTree(b){var a=this;a.q1=null;a.q2=null;a.q3=null;a.q4=null;a.parent=null;a.data=[];a.rect=b;a.root=a;}LQuadTree.prototype={createChildren:function(b){if(b==0){return;
}var c=this;var a=c.rect.width/2,d=c.rect.height/2;c.q1=new LQuadTree(new LRectangle(c.rect.x+a,c.rect.y,a,d));c.q2=new LQuadTree(new LRectangle(c.rect.x+a,c.rect.y+d,a,d));
c.q3=new LQuadTree(new LRectangle(c.rect.x,c.rect.y+d,a,d));c.q4=new LQuadTree(new LRectangle(c.rect.x,c.rect.y,a,d));c.q1.parent=c.q2.parent=c.q3.parent=c.q4.parent=c;
c.q1.root=c.q2.root=c.q3.root=c.q4.root=c.root;c.q1.createChildren(b-1);c.q2.createChildren(b-1);c.q3.createChildren(b-1);c.q4.createChildren(b-1);},hasChildren:function(){var a=this;
return a.q1&&a.q2&&a.q3&&a.q4;},clear:function(){var a=this;if(a.hasChildren()){return a.q1.clear()||a.q2.clear()||a.q3.clear()||a.q4.clear();}else{a.q1=null;
a.q2=null;a.q3=null;a.q4=null;a.parent=null;a.data=[];return a;}},add:function(c,a,d){var b=this;if(!b.isIn(a,d)){return null;}if(b.hasChildren()){return b.q1.add(c,a,d)||b.q2.add(c,a,d)||b.q3.add(c,a,d)||b.q4.add(c,a,d);
}else{b.data.push(c);return b;}},remove:function(c,a,e){var b=this;if(!b.isIn(a,e)){return null;}if(b.hasChildren()){return b.q1.remove(c,a,e)||b.q2.remove(c,a,e)||b.q3.remove(c,a,e)||b.q4.remove(c,a,e);
}else{var d=b.data.indexOf(c);if(d!=-1){b.data.splice(d,1);return b;}else{return null;}}},isIn:function(a,c){var b=this;return(typeof a==UNDEFINED||(a>=b.rect.x&&a<b.rect.right))&&(typeof c==UNDEFINED||(c>=b.rect.y&&c<b.rect.bottom));
},getDataInRect:function(c){var a=this;if(!a.rect.intersects(c)){return[];}var b=a.data.concat();if(a.hasChildren()){b.push.apply(b,a.q1.getDataInRect(c));
b.push.apply(b,a.q2.getDataInRect(c));b.push.apply(b,a.q3.getDataInRect(c));b.push.apply(b,a.q4.getDataInRect(c));}return b;},toString:function(){return"[LQuadTree]";
}};function LoadingSample1(e,a,f){base(this,LSprite,[]);var d=this;d.numberList=new Array([1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],[0,1,0,1,1,0,0,1,0,0,1,0,0,1,0],[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],[1,1,1,0,0,1,1,1,1,0,0,1,1,1,1],[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,1,0,1,1,1,1],[1,1,1,0,0,1,0,0,1,0,0,1,0,0,1],[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,1,1,0,0,1,1,1,1]);
d.backgroundColor=a==null?"#000000":a;d.color=f==null?"#ffffff":f;d.progress=0;d.step=e==null?LGlobal.width*0.5/15:e;d.back=new LSprite();d.addChild(d.back);
d.num=new LSprite();d.addChild(d.num);d.num.mask=new LSprite();d.screenX=(LGlobal.width-d.step*15)/2;d.screenY=(LGlobal.height-d.step*5)/2;d.num.x=d.screenX;
d.num.y=d.screenY;d.setProgress(d.progress);}LoadingSample1.prototype.setProgress=function(h){var g=this,j=LGlobal.canvas;var d="",b,a,e;var f=g.step;if(h>=100){d=g.getNumber(1);
b=g.getNumber(0);a=g.getNumber(0);f=g.step*3;}else{if(h>=10){b=g.getNumber(Math.floor(h/10));a=g.getNumber(h%10);}else{b=g.getNumber(0);a=g.getNumber(h);
}}g.back.graphics.clear();g.back.graphics.add(function(){j.beginPath();j.fillStyle=g.backgroundColor;j.fillRect(0,0,LGlobal.width,LGlobal.height);j.closePath();
j.fillStyle=g.color;if(h>=100){for(e=0;e<d.length;e++){if(d[e]==0){continue;}j.fillRect(g.screenX+Math.floor(e%3)*g.step,g.screenY+Math.floor(e/3)*g.step,g.step,g.step);
}}for(e=0;e<b.length;e++){if(b[e]==0){continue;}j.fillRect(g.screenX+f+Math.floor(e%3)*g.step,g.screenY+Math.floor(e/3)*g.step,g.step,g.step);}for(e=0;
e<a.length;e++){if(a[e]==0){continue;}j.fillRect(g.screenX+f+Math.floor(e%3)*g.step+g.step*4,g.screenY+Math.floor(e/3)*g.step,g.step,g.step);}j.moveTo(g.screenX+f+g.step*9.7,g.screenY);
j.lineTo(g.screenX+f+g.step*10.5,g.screenY);j.lineTo(g.screenX+f+g.step*9.3,g.screenY+g.step*5);j.lineTo(g.screenX+f+g.step*8.5,g.screenY+g.step*5);j.lineTo(g.screenX+f+g.step*9.7,g.screenY);
j.fill();j.moveTo(g.screenX+f+g.step*8.5,g.screenY+g.step);j.arc(g.screenX+f+g.step*8.5,g.screenY+g.step,g.step*0.6,0,360+Math.PI/180);j.moveTo(g.screenX+f+g.step*10.5,g.screenY+g.step*4);
j.arc(g.screenX+f+g.step*10.5,g.screenY+g.step*4,g.step*0.6,0,360+Math.PI/180);j.fill();});g.num.mask.graphics.clear();g.num.mask.graphics.add(function(){if(h>=100){for(c=0;
c<d.length;c++){if(d[c]==0){continue;}j.rect(g.screenX+Math.floor(c%3)*g.step,g.screenY+Math.floor(c/3)*g.step,g.step,g.step);}}for(var c=0;c<b.length;
c++){if(b[c]==0){continue;}j.rect(g.screenX+f+Math.floor(c%3)*g.step,g.screenY+Math.floor(c/3)*g.step,g.step,g.step);}for(var c=0;c<a.length;c++){if(a[c]==0){continue;
}j.rect(g.screenX+f+Math.floor(c%3)*g.step+g.step*4,g.screenY+Math.floor(c/3)*g.step,g.step,g.step);}});j.fillStyle=LGlobal._create_loading_color();g.num.graphics.clear();
g.num.graphics.drawRect(1,j.fillStyle,[0,g.step*5*(100-h)*0.01,LGlobal.width,LGlobal.height],true,j.fillStyle);};LoadingSample1.prototype.getNumber=function(a){return this.numberList[a];
};function LoadingSample2(f,e,b){base(this,LSprite,[]);var g=this,h=LGlobal.canvas,d="Loading...",a;g.backgroundColor=e==null?"#000000":e;g.graphics.drawRect(1,g.backgroundColor,[0,0,LGlobal.width,LGlobal.height],true,g.backgroundColor);
if(b==null){b=LGlobal._create_loading_color();}g.color=b;g.progress=0;g.size=f==null?LGlobal.height*0.2:f;a=new LTextField();a.text=d;a.size=g.size;a.color="#ffffff";
a.x=(LGlobal.width-a.getWidth())/2;a.y=(LGlobal.height-g.size)/2;g.addChild(a);g.backLabel=a;a=new LTextField();a.text="***%";a.size=g.size*0.3;a.color=b;
a.x=(LGlobal.width-a.getWidth())/2;a.y=(LGlobal.height-g.size)/2-g.size*0.4;g.addChild(a);g.progressLabel=a;a=new LTextField();a.text=d;a.size=g.size;a.color=g.color;
a.x=(LGlobal.width-a.getWidth())/2;a.y=(LGlobal.height-g.size)/2;a.mask=new LGraphics();g.screenX=a.x;g.screenY=a.y;g.screenWidth=a.getWidth();g.addChild(a);
g.showLabel=a;h.shadowOffsetX=2;h.shadowOffsetY=2;h.shadowColor="blue";g.setProgress(g.progress);}LoadingSample2.prototype.setProgress=function(b){var a=this,d=LGlobal.canvas;
a.progressLabel.text=b+"%";a.showLabel.mask.clear();a.showLabel.mask.drawRect(0,"#000000",[a.screenX,0,a.screenWidth*b*0.01,LGlobal.height]);if(b>=100){d.shadowOffsetX=0;
d.shadowOffsetY=0;}};function LoadingSample3(a,d,b){base(this,LSprite,[]);var e=this,f=LGlobal.canvas;e.backgroundColor=d==null?"#000000":d;e.graphics.drawRect(1,e.backgroundColor,[0,0,LGlobal.width,LGlobal.height],true,e.backgroundColor);
if(b==null){b=LGlobal._create_loading_color();}e.color=b;e.progress=0;e.screenWidth=LGlobal.width*0.75;e.screenHeight=a==null?LGlobal.height*0.1:a;if(e.screenHeight>5){e.screenHeight=5;
}e.screenX=(LGlobal.width-e.screenWidth)/2;e.screenY=(LGlobal.height-e.screenHeight)/2;e.back=new LSprite();e.addChild(e.back);e.label=new LTextField();
e.label.color="#ffffff";e.label.weight="bolder";e.label.size=e.screenHeight*2;e.label.x=e.screenX+(e.screenWidth-e.label.getWidth())*0.5;e.label.y=e.screenY-e.screenHeight*4;
e.addChild(e.label);e.star=new Array();e.addEventListener(LEvent.ENTER_FRAME,e.onframe);e.setProgress(e.progress);}LoadingSample3.prototype.onframe=function(c){var b,d,a;
if(c.progress>=100){if(c.star.length>0){for(b=0,a=c.star.length;b<a;b++){c.removeChild(c.star[b]);}c.star.length=0;}return;}for(b=0,a=c.star.length;b<a;
b++){d=c.star[b];d.alpha-=0.1;d.x+=d.speedx;d.y+=d.speedy;if(d.alpha<=0){c.star.splice(b,1);c.removeChild(d);b--,a--;}}if(c.star.length<10){c.addStar();
}};LoadingSample3.prototype.addStar=function(){var a=this,e=LGlobal.canvas;var d=new LSprite();var b=1+Math.floor(Math.random()*4);d.graphics.add(function(){e.beginPath();
e.fillStyle="#ffffff";e.lineTo(b*2,b);e.lineTo(b*4,0);e.lineTo(b*3,b*2);e.lineTo(b*4,b*4);e.lineTo(b*2,b*3);e.lineTo(0,b*4);e.lineTo(b,b*2);e.lineTo(0,0);
e.fill();});d.x=a.screenX+a.screenWidth*a.progress*0.01;d.y=a.screenY;d.speedx=4-8*Math.random();d.speedy=4-8*Math.random();a.star.push(d);a.addChild(d);
};LoadingSample3.prototype.setProgress=function(b){var a=this,d=LGlobal.canvas;if(b>100){b=100;}a.progress=b;a.back.graphics.clear();a.back.graphics.add(function(){d.beginPath();
d.fillStyle="#00FFFF";d.rect(a.screenX-3,a.screenY-3,a.screenWidth+6,a.screenHeight+6);d.fill();d.beginPath();d.fillStyle="#990033";d.rect(a.screenX,a.screenY,a.screenWidth,a.screenHeight);
d.fill();d.beginPath();d.fillStyle=a.color;d.rect(a.screenX,a.screenY,a.screenWidth*b*0.01,a.screenHeight);d.fill();});a.label.text=b+"%";};function LoadingSample4(a,e,b){base(this,LSprite,[]);
var f=this,h=LGlobal.canvas;f.backgroundColor=e==null?"#000000":e;f.graphics.drawRect(1,f.backgroundColor,[0,0,LGlobal.width,LGlobal.height],true,f.backgroundColor);
if(b==null){b="#FFFFFF";}f.arc=new LSprite();f.arc.x=LGlobal.width*0.5;f.arc.y=LGlobal.height*0.5;f.addChild(f.arc);for(var d=0;d<360;d++){f.arc.graphics.drawArc(1+d/36,b,[0,0,50,(2*Math.PI/360)*d,(2*Math.PI/360)*(d+2)]);
}f.progress=0;f.label=new LTextField();f.label.color=b;f.label.weight="bolder";f.label.size=18;f.label.x=LGlobal.width*0.5;f.label.y=LGlobal.height*0.5-f.label.getHeight()*0.5;
f.addChild(f.label);var g=new LDropShadowFilter(0,0,"#FFFFFF",30);f.arc.filters=[g];f.addEventListener(LEvent.ENTER_FRAME,f.onframe);f.setProgress(f.progress);
}LoadingSample4.prototype.onframe=function(a){a.target.arc.rotate+=20;};LoadingSample4.prototype.setProgress=function(b){var a=this;if(b>100){b=100;}a.progress=b;
a.label.text=b+"%";a.label.x=LGlobal.width*0.5-a.label.getWidth()*0.5;};function LoadingSample5(j,b,e){base(this,LSprite,[]);var k=this,g=LGlobal.canvas;
k.backgroundColor=b==null?"#000000":b;k.graphics.drawRect(1,k.backgroundColor,[0,0,LGlobal.width,LGlobal.height],true,k.backgroundColor);if(e==null){e="#FFFFFF";
}k.arc=new LSprite();k.arc.x=LGlobal.width*0.5;k.arc.y=LGlobal.height*0.5;k.addChild(k.arc);var a=50;for(var f=0;f<360;f+=30){var d=new LSprite();d.graphics.drawArc(0,e,[a,0,7,0,2*Math.PI],true,e);
d.rotate=f;d.alpha=0.1+f/360;k.arc.addChild(d);}k.index=0;k.max=3;k.progress=0;k.label=new LTextField();k.label.color="#FFFFFF";k.label.weight="bolder";
k.label.size=18;k.label.x=LGlobal.width*0.5;k.label.y=LGlobal.height*0.5-k.label.getHeight()*0.5;k.addChild(k.label);var h=new LDropShadowFilter(0,0,"#FFFFFF",30);
k.arc.filters=[h];k.addEventListener(LEvent.ENTER_FRAME,k.onframe);k.setProgress(k.progress);}LoadingSample5.prototype.onframe=function(b){var a=b.target;
if(a.index++<a.max){return;}a.index=0;a.arc.rotate+=30;};LoadingSample5.prototype.setProgress=function(b){var a=this;if(b>100){b=100;}a.progress=b;a.label.text=b+"%";
a.label.x=LGlobal.width*0.5-a.label.getWidth()*0.5;};function LoadingSample6(d,b,c){var a=this;base(a,LSprite,[]);a.progress=0;a.step=0;a.holeR=d||10;a.holeAmount=5;
a.holesx=20;a.loadingBarWidth=a.holeR*2*a.holeAmount+a.holesx*(a.holeAmount-1);a.loadingBarHeight=a.holeR*2;a.progressColor=b||"#2187e7";a.filterColor=c||"#00c6ff";
a.backLayer=new LSprite();a.backLayer.graphics.drawRect(0,"",[0,0,LGlobal.width,LGlobal.height],true,"#161616");a.addChild(a.backLayer);a.holeLayer=new LSprite();
a.holeLayer.x=(LGlobal.width-a.loadingBarWidth)*0.5;a.holeLayer.y=(LGlobal.height-a.loadingBarHeight)*0.5;a.addChild(a.holeLayer);a.progressLayer=new LSprite();
a.progressLayer.x=(LGlobal.width-a.loadingBarWidth)*0.5;a.progressLayer.y=(LGlobal.height-a.loadingBarHeight)*0.5;a.addChild(a.progressLayer);a._addHole();
}LoadingSample6.prototype._addHole=function(){var a=this;var c=a.holeAmount,f=a.holeR*2+a.holesx,e=a.holeR;for(var b=0;b<c;b++){var d=new LSprite();d.x=b*f;
d.graphics.drawArc(1,"#111",[0,0,e,0,2*Math.PI],true,"#000");d.graphics.drawArc(1,"#333",[0,0,e,1.7*Math.PI,0.7*Math.PI],false);a.holeLayer.addChild(d);
}};LoadingSample6.prototype.setProgress=function(m){var n=this;var k=n.holeR*2+n.holesx,a=n.holeR;n.progress=m/100;var c=new Array();while(Math.floor(n.progress/0.2)>n.step){var f=a*2;
var b=f;var g=LGlobal.canvas.createLinearGradient(0,-b*2,0,b);g.addColorStop(0,"white");g.addColorStop(1,n.progressColor);var e=new LSprite();e.x=n.step*k;
e.scaleX=0;e.scaleY=0;e.graphics.drawArc(0,"",[0,0,a,0,2*Math.PI],true,g);n.progressLayer.addChild(e);c.push(e);n.step++;}var j=function(q){var p=new LSprite();
p.alpha=0.9;p.x=q.x;p.graphics.drawArc(1,n.filterColor,[0,0,a,0,2*Math.PI],false);n.progressLayer.addChild(p);var r=new LDropShadowFilter(0,5,n.filterColor,10);
p.filters=[r];LTweenLite.to(p,0.5,{scaleX:1.7,scaleY:1.7,alpha:0,onComplete:function(o){o.parent.removeChild(o);}});};for(var h=0;h<c.length;h++){var d=c[h];
LTweenLite.to(d,1,{scaleX:1,scaleY:1,onComplete:j});}};function LoadingSample7(a,d,c){var b=this;base(b,LSprite,[]);b.progress=0;b.step=0;b.holeW=a||10;
b.holeH=d||30;b.holeAmount=10;b.holesx=8;b.loadingBarWidth=b.holeW*b.holeAmount+b.holesx*(b.holeAmount-1);b.loadingBarHeight=b.holeH;b.progressColor=c||"#2187e7";
b.backLayer=new LSprite();b.backLayer.graphics.drawRect(0,"",[0,0,LGlobal.width,LGlobal.height],true,"#161616");b.addChild(b.backLayer);b.holeLayer=new LSprite();
b.holeLayer.x=(LGlobal.width-b.loadingBarWidth)*0.5;b.holeLayer.y=(LGlobal.height-b.loadingBarHeight)*0.5;b.addChild(b.holeLayer);b.progressLayer=new LSprite();
b.progressLayer.x=(LGlobal.width-b.loadingBarWidth)*0.5;b.progressLayer.y=(LGlobal.height-b.loadingBarHeight)*0.5;b.addChild(b.progressLayer);b._addHole();
}LoadingSample7.prototype._addHole=function(){var k=this;var f=k.holeAmount,g=k.holeW+k.holesx,j=k.holeW,e=k.holeH;for(var d=0;d<f;d++){var a=new LSprite();
a.x=d*g;a.graphics.drawRect(1,"#333",[1,1,k.holeW,k.holeH],false);a.graphics.drawRect(1,"#111",[0,0,k.holeW,k.holeH],true,"#000");k.holeLayer.addChild(a);
var c=LGlobal.canvas.createLinearGradient(0,-e,0,e);c.addColorStop(0,"white");c.addColorStop(1,k.progressColor);var b=new LSprite();b.alpha=0;b.x=d*g;b.graphics.drawRect(0,"",[0,0,k.holeW,k.holeH],true,c);
k.progressLayer.addChild(b);}};LoadingSample7.prototype.setProgress=function(c){var a=this;a.progress=c/100;if(Math.floor(a.progress/0.1)>a.step){var f=Math.ceil(a.progress/0.1);
if(f>10){f=10;}for(var b=0;b<f;b++){var e=a.progressLayer.childList;if(e[b].alpha>0){continue;}var d=a.progressLayer.childList[b];LTweenLite.to(d,1,{alpha:1});
}a.step++;}};var LBox2d=(function(){function a(n,m,c){var o=this;Box2D.Dynamics.b2World.prototype.LAddController=Box2D.Dynamics.b2World.prototype.AddController;
Box2D.Dynamics.b2World.prototype.AddController=function(j){var b={},d;for(d in j){b[d]=j[d];}if(a){a.m_controllerList=b;}return this.LAddController(j);
};var f,e,h=Box2D,g,k=[h.Collision,h.Common,h.Common.Math,h.Dynamics,h.Dynamics.Contacts,h.Dynamics.Controllers,h.Dynamics.Joints,h.Collision.Shapes];for(f in k){for(e in k[f]){o[e]=k[f][e];
}}if(typeof c==UNDEFINED){c=30;}o.stop=false;o.drawScale=30;o.selectedBody=null;o.mouseJoint=null;o.mousePVec=null;o.contactListener=null;if(typeof n==UNDEFINED){n=new o.b2Vec2(0,9.8);
}else{n=new o.b2Vec2(n[0],n[1]);}if(typeof m==UNDEFINED){m=true;}o.world=new o.b2World(n,m);o.removeList=new Array();if(LGlobal.traceDebug){g=new o.b2DebugDraw();
g.SetSprite(LGlobal.canvas);g.SetLineThickness(1);g.SetFillAlpha(0.5);g.SetAlpha(1);g.SetDrawScale(o.drawScale);g.SetFlags(o.b2DebugDraw.e_shapeBit|o.b2DebugDraw.e_jointBit);
o.world.SetDebugDraw(g);}LGlobal.destroy=true;}a.prototype={setEvent:function(b,c){var d=this;if(b==LEvent.ENTER_FRAME){d.ll_enterFrame=c;return;}if(!d.contactListener){d.contactListener=new d.b2ContactListener();
d.world.SetContactListener(d.contactListener);}switch(b){case LEvent.END_CONTACT:d.contactListener.EndContact=c;break;case LEvent.PRE_SOLVE:d.contactListener.PreSolve=c;
break;case LEvent.POST_SOLVE:d.contactListener.PostSolve=c;break;case LEvent.BEGIN_CONTACT:default:d.contactListener.BeginContact=c;}},setWeldJoint:function(b,e){var d=this;
var c=new d.b2WeldJointDef();c.Initialize(e,b,e.GetWorldCenter());return d.world.CreateJoint(c);},setLineJoint:function(c,k,f,e,b){var g=this;var h=new g.b2Vec2(f[0],f[1]);
var d=new g.b2LineJointDef();d.Initialize(c,k,k.GetWorldCenter(),h);if(e==null){d.enableLimit=false;}else{d.lowerTranslation=e[0];d.upperTranslation=e[1];
d.enableLimit=true;}if(b==null){d.enableMotor=false;}else{d.maxMotorForce=b[0];d.motorSpeed=b[1];d.enableMotor=true;}return g.world.CreateJoint(d);},setGearJoint:function(b,h,g,e,f){var d=this;
var c=new d.b2GearJointDef();c.joint1=e;c.joint2=f;c.bodyA=b;c.bodyB=h;c.ratio=g*d.b2Settings.b2_pi/(300/d.drawScale);return d.world.CreateJoint(c);},setPrismaticJoint:function(c,k,f,e,b){var g=this;
var h=new g.b2Vec2(f[0],f[1]);var d=new g.b2PrismaticJointDef();d.Initialize(k,c,k.GetWorldCenter(),h);if(e==null){d.enableLimit=false;}else{d.lowerTranslation=e[0];
d.upperTranslation=e[1];d.enableLimit=true;}if(b==null){d.enableMotor=false;}else{d.maxMotorForce=b[0];d.motorSpeed=b[1];d.enableMotor=true;}return g.world.CreateJoint(d);
},setRevoluteJoint:function(c,g,d,b){var f=this;var e=new f.b2RevoluteJointDef();e.Initialize(c,g,g.GetWorldCenter());if(d==null){e.enableLimit=false;}else{e.lowerAngle=d[0]*f.b2Settings.b2_pi/180;
e.upperAngle=d[1]*f.b2Settings.b2_pi/180;e.enableLimit=true;}if(b==null){e.enableMotor=false;}else{e.maxMotorTorque=b[0];e.motorSpeed=b[1];e.enableMotor=true;
}return f.world.CreateJoint(e);},setDistanceJoint:function(b,e){var d=this;var c=new d.b2DistanceJointDef();c.Initialize(b,e,b.GetWorldCenter(),e.GetWorldCenter());
return d.world.CreateJoint(c);},setPulleyJoint:function(h,e,f,c,m){var o=this;var g=h.GetWorldCenter();var d=e.GetWorldCenter();var b=new o.b2Vec2(g.x+(f[0]/o.drawScale),g.y+(f[1]/o.drawScale));
var n=new o.b2Vec2(d.x+(c[0]/o.drawScale),d.y+(c[1]/o.drawScale));var k=new o.b2PulleyJointDef();k.Initialize(h,e,b,n,g,d,m);k.maxLengthA=f[2]/o.drawScale;
k.maxLengthB=c[2]/o.drawScale;return o.world.CreateJoint(k);},addCircle:function(b,g,c,n,m,h,k){var o=this;o.bodyDef=new o.b2BodyDef;o.bodyDef.type=n;o.fixDef=new o.b2FixtureDef;
o.fixDef.density=m;o.fixDef.friction=h;o.fixDef.restitution=k;o.fixDef.shape=new o.b2CircleShape(b);o.bodyDef.position.x=g;o.bodyDef.position.y=c;var j=o.world.CreateBody(o.bodyDef);
j.CreateFixture(o.fixDef);return j;},addPolygon:function(p,g,c,b,o,n,j,m){var q=this;q.bodyDef=new q.b2BodyDef;q.bodyDef.type=o;q.fixDef=new q.b2FixtureDef;
q.fixDef.density=n;q.fixDef.friction=j;q.fixDef.restitution=m;q.fixDef.shape=new q.b2PolygonShape;q.fixDef.shape.SetAsBox(p,g);q.bodyDef.position.x=c;q.bodyDef.position.y=b;
var k=q.world.CreateBody(q.bodyDef);k.CreateFixture(q.fixDef);return k;},addVertices:function(k,n,m,g,j){var o=this,c,b;o.bodyDef=new o.b2BodyDef;o.bodyDef.type=n;
var h=o.world.CreateBody(o.bodyDef);for(c=0,b=k.length;c<b;c++){o.createShapeAsArray(h,k[c],n,m,g,j);}return h;},createShapeAsArray:function(n,j,o,m,g,h){var q=this;
var k=new q.b2PolygonShape();var p=q.createVerticesArray(j);k.SetAsArray(p,0);var b=new q.b2FixtureDef();b.shape=k;b.density=m;b.friction=g;b.restitution=h;
n.CreateFixture(b);},createVerticesArray:function(c){var f=this,e,b;var d=new Array();if(c.length<3){return d;}for(e=0,b=c.length;e<b;e++){d.push(new f.b2Vec2(c[e][0]/f.drawScale,c[e][1]/f.drawScale));
}return d;},getBodyAtMouse:function(d,c){var e=this;e.mousePVec=new e.b2Vec2(d,c);var b=new e.b2AABB();b.lowerBound.Set(d-0.001,c-0.001);b.upperBound.Set(d+0.001,c+0.001);
e.selectedBody=null;e.world.QueryAABB(e.getBodyCallBack,b);return e.selectedBody;},getBodyCallBack:function(c){var b=LGlobal.box2d;if(c.GetBody().GetType()!=b.b2Body.b2_staticBody){if(c.GetShape().TestPoint(c.GetBody().GetTransform(),b.mousePVec)){b.selectedBody=c.GetBody();
return false;}}return true;},ll_show:function(){var c=this,b=null;for(b in c.removeList){c.world.DestroyBody(c.removeList[b]);}c.removeList.splice(0,c.removeList.length);
if(c.stop){return;}if(c.ll_enterFrame){c.ll_enterFrame({target:c});}c.world.Step(1/30,10,10);c.world.ClearForces();if(LGlobal.traceDebug){c.world.DrawDebugData();
}},synchronous:function(){var e=this;var d=null,j,c=null,b=0,h=0,g,f;for(g=e.world.GetBodyList();g;g=g.GetNext()){j=g.GetUserData();if(j){if(c==null){d=j.parent;
b=g.GetPosition().x;h=g.GetPosition().y;}g.SetPosition(new e.b2Vec2((j.x+j.rotatex+d.x)/e.drawScale,(j.y+j.rotatey+d.y)/e.drawScale));if(c==null){c={x:(g.GetPosition().x-b),y:(g.GetPosition().y-h)};
}}}for(f=e.world.GetJointList();f;f=f.GetNext()){if(f.m_groundAnchor1){f.m_groundAnchor1.x+=c.x;f.m_groundAnchor1.y+=c.y;}if(f.m_groundAnchor2){f.m_groundAnchor2.x+=c.x;
f.m_groundAnchor2.y+=c.y;}}if(a.m_controllerList&&e.world.m_controllerList&&d){LGlobal.box2d.world.m_controllerList.offset=a.m_controllerList.offset-d.y/LGlobal.box2d.drawScale;
}}};return a;})();LSprite.prototype.setBodyMouseJoint=function(b){var a=this;if(!a.box2dBody){return;}a.box2dBody.mouseJoint=b;};LSprite.prototype.clearBody=function(b){var a=this;
if(!a.box2dBody){return;}LGlobal.box2d.removeList.push(a.box2dBody);a.box2dBody=null;};LSprite.prototype.addBodyCircle=function(b,a,h,e,c,g,f){var d=this;
d.rotatex=b;d.rotatey=b;d.box2dBody=LGlobal.box2d.addCircle(b/LGlobal.box2d.drawScale,(d.x+a)/LGlobal.box2d.drawScale,(d.y+h)/LGlobal.box2d.drawScale,(e==1)?LGlobal.box2d.b2Body.b2_dynamicBody:LGlobal.box2d.b2Body.b2_staticBody,c==null?0.5:c,g==null?0.4:g,f==null?0.8:f);
d.box2dBody.SetUserData(d);};LSprite.prototype.addBodyPolygon=function(b,e,d,a,g,f){var c=this;c.rotatex=b/2;c.rotatey=e/2;c.box2dBody=LGlobal.box2d.addPolygon(b*0.5/LGlobal.box2d.drawScale,e*0.5/LGlobal.box2d.drawScale,c.x/LGlobal.box2d.drawScale,c.y/LGlobal.box2d.drawScale,(d==1)?LGlobal.box2d.b2Body.b2_dynamicBody:LGlobal.box2d.b2Body.b2_staticBody,a==null?0.5:a,g==null?0.4:g,f==null?0.8:f);
c.box2dBody.SetUserData(c);};LSprite.prototype.addBodyVertices=function(c,a,h,e,b,g,f){var d=this;d.rotatex=0;d.rotatey=0;d.box2dBody=LGlobal.box2d.addVertices(c,(e==1)?LGlobal.box2d.b2Body.b2_dynamicBody:LGlobal.box2d.b2Body.b2_staticBody,b,g,f);
d.box2dBody.SetUserData(d);d.box2dBody.SetPosition(new LGlobal.box2d.b2Vec2((d.x+a)/LGlobal.box2d.drawScale,(d.y+h)/LGlobal.box2d.drawScale));};LGlobal.mouseJoint_start=function(d){if(!LGlobal.IS_MOUSE_DOWN||!LGlobal.box2d||LGlobal.box2d.mouseJoint||LGlobal.box2d.stop){return;
}var f=d.offsetX/LGlobal.box2d.drawScale,e=d.offsetY/LGlobal.box2d.drawScale,c=LGlobal.box2d.getBodyAtMouse(f,e);if(c&&c.mouseJoint){var a=new LGlobal.box2d.b2MouseJointDef();
a.bodyA=LGlobal.box2d.world.GetGroundBody();a.bodyB=c;a.target.Set(f,e);a.collideConnected=true;a.maxForce=300000*c.GetMass();LGlobal.box2d.mouseJoint=LGlobal.box2d.world.CreateJoint(a);
c.SetAwake(true);}};LGlobal.mouseJoint_move=function(a){if(!LGlobal.IS_MOUSE_DOWN||!LGlobal.box2d||!LGlobal.box2d.mouseJoint){return;}mX=a.offsetX/LGlobal.box2d.drawScale,mY=a.offsetY/LGlobal.box2d.drawScale;
LGlobal.box2d.mouseJoint.SetTarget(new LGlobal.box2d.b2Vec2(mX,mY));};LGlobal.mouseJoint_end=function(){if(LGlobal.box2d!=null&&LGlobal.box2d.mouseJoint){LGlobal.box2d.world.DestroyJoint(LGlobal.box2d.mouseJoint);
LGlobal.box2d.mouseJoint=null;}};function LTransition(b,a){this.child=b;this.trans=a;}LTransition.prototype={startTransition:function(){var a=this;switch(a.trans.type){case LTransition.Blinds:a.blinds();
break;case LTransition.Fade:a.fade();break;case LTransition.Fly:a.fly();break;case LTransition.Iris:a.iris();break;case LTransition.Squeeze:a.squeeze();
break;case LTransition.Wipe:a.wipe();break;case LTransition.Zoom:a.zoom();break;case LTransition.PixelDissolve:a.pixelDissolve();break;case LTransition.Curtain:a.curtain();
break;default:throw ("the type is not exists.");}},blindsComplete:function(a){if(a.trans.direction==LTransition.OUT){a.child.mask.clear();}else{a.blindsUpdateRun();
}a.child.mask=null;if(a.trans.onComplete){a.trans.onComplete(a.child);}},blindsUpdateRun:function(){var a=this,b=a.child.mask,d=LGlobal.canvas;b.clear();
if(a.trans.dimension){b.add(function(){d.save();for(var c=0;c<a.trans.numStrips;c++){d.rect(c*a.maxSize,0,a.blindsSize,a.child.getHeight());}d.restore();
});}else{b.add(function(){d.save();for(var c=0;c<a.trans.numStrips;c++){d.rect(0,0+c*a.maxSize,a.child.getWidth(),a.blindsSize);}d.restore();});}},blindsUpdate:function(a){a.blindsUpdateRun();
if(a.trans.onUpdate){a.trans.onUpdate(a.child);}},blinds:function(){var a=this;if(!a.trans.numStrips){a.trans.numStrips=1;}a.blindsSize=0;if(a.trans.dimension){a.maxSize=a.child.getWidth()/a.trans.numStrips>>0;
}else{a.maxSize=a.child.getHeight()/a.trans.numStrips>>0;}var c=new LGraphics();a.child.mask=c;var b=a.maxSize;if(a.trans.direction==LTransition.OUT){a.blindsSize=a.maxSize;
b=0;}LTweenLite.to(a,a.trans.duration,{blindsSize:b,onComplete:a.blindsComplete,onUpdate:a.blindsUpdate,ease:a.trans.easing});},fadeComplete:function(a){a.child.alpha=a.alpha;
if(a.trans.onComplete){a.trans.onComplete(a.child);}},fadeUpdate:function(a){a.child.alpha=a.alpha;if(a.trans.onUpdate){a.trans.onUpdate(a.child);}},fade:function(){var b=this;
var a=1;b.alpha=0;if(b.trans.direction==LTransition.OUT){b.alpha=1;a=0;}b.child.alpha=b.alpha;LTweenLite.to(b,b.trans.duration,{alpha:a,onComplete:b.fadeComplete,onUpdate:b.fadeUpdate,ease:b.trans.easing});
},flyComplete:function(a){a.child.x=a.x;a.child.y=a.y;if(a.trans.onComplete){a.trans.onComplete(a.child);}},flyUpdate:function(a){a.child.x=a.x;a.child.y=a.y;
if(a.trans.onUpdate){a.trans.onUpdate(a.child);}},fly:function(){var a=this;var c=a.child.x;var b=a.child.y;switch(a.trans.startPoint){case 1:a.x=-a.child.getWidth();
a.y=-a.child.getHeight();break;case 2:a.x=(LGlobal.width-a.child.getWidth())*0.5;a.y=-a.child.getHeight();break;case 3:a.x=LGlobal.width;a.y=-a.child.getHeight();
break;case 4:a.x=-a.child.getWidth();a.y=(LGlobal.height-a.child.getHeight())*0.5;break;case 6:a.x=LGlobal.width;a.y=(LGlobal.height-a.child.getHeight())*0.5;
break;case 7:a.x=-a.child.getWidth();a.y=LGlobal.height;break;case 8:a.x=(LGlobal.width-a.child.getWidth())*0.5;a.y=LGlobal.height;break;case 9:a.x=LGlobal.width;
a.y=LGlobal.height;break;case 5:default:a.x=(LGlobal.width-a.child.getWidth())*0.5;a.y=(LGlobal.height-a.child.getHeight())*0.5;}if(a.trans.direction==LTransition.OUT){var c=a.x;
var b=a.y;a.x=a.child.x;a.y=a.child.y;}else{a.child.x=a.x;a.child.y=a.y;}LTweenLite.to(a,a.trans.duration,{x:c,y:b,onComplete:a.flyComplete,onUpdate:a.flyUpdate,ease:a.trans.easing});
},irisComplete:function(a){if(a.trans.direction==LTransition.OUT){a.child.mask.clear();}else{a.irisUpdateRun();}a.child.mask=null;if(a.trans.onComplete){a.trans.onComplete(a.child);
}},irisUpdateRun:function(){var a=this,b=a.child.mask,d=LGlobal.canvas;b.clear();if(a.trans.shape==LIris.CIRCLE){b.drawArc(0,"#000000",[a.x,a.y,a.r,0,Math.PI*2]);
}else{b.drawRect(0,"#000000",[a.x+a.sLeft,a.y+a.sTop,a.width,a.height]);}},irisUpdate:function(a){a.irisUpdateRun();if(a.trans.onUpdate){a.trans.onUpdate(a.child);
}},iris:function(){var a=this;a.sLeft=0;a.sTop=0;a.width=0;a.height=0;a.x=0;a.y=0;a.r=0;a.eWidth=a.child.getWidth();a.eHeight=a.child.getHeight();switch(a.trans.startPoint){case 1:a.eR=Math.sqrt(a.eWidth*a.eWidth+a.eHeight*a.eHeight);
break;case 2:a.eR=Math.sqrt((a.eWidth*0.5)*(a.eWidth*0.5)+a.eHeight*a.eHeight);a.x=a.child.getWidth()*0.5;break;case 3:a.eR=Math.sqrt(a.eWidth*a.eWidth+a.eHeight*a.eHeight);
a.x=a.child.getWidth();break;case 4:a.eR=Math.sqrt(a.eWidth*a.eWidth+(a.eHeight*0.5)*(a.eHeight*0.5));a.y=a.child.getHeight()*0.5;break;case 6:a.eR=Math.sqrt(a.eWidth*a.eWidth+(a.eHeight*0.5)*(a.eHeight*0.5));
a.x=a.child.getWidth();a.y=a.child.getHeight()*0.5;break;case 7:a.eR=Math.sqrt(a.eWidth*a.eWidth+a.eHeight*a.eHeight);a.y=a.child.getHeight();break;case 8:a.eR=Math.sqrt((a.eWidth*0.5)*(a.eWidth*0.5)+a.eHeight*a.eHeight);
a.x=a.child.getWidth()*0.5;a.y=a.child.getHeight();break;case 9:a.eR=Math.sqrt(a.eWidth*a.eWidth+a.eHeight*a.eHeight);a.x=a.child.getWidth();a.y=a.child.getHeight();
break;case 5:default:a.eR=Math.sqrt((a.eWidth*0.5)*(a.eWidth*0.5)+(a.eHeight*0.5)*(a.eHeight*0.5));a.x=a.child.getWidth()*0.5;a.y=a.child.getHeight()*0.5;
}a.eLeft=-a.x;a.eTop=-a.y;var c=new LGraphics();a.child.mask=c;var b=a.maxSize;if(a.trans.direction==LTransition.OUT){a.sLeft=a.eLeft;a.sTop=a.eTop;a.eLeft=0;
a.eTop=0;a.width=a.eWidth;a.height=a.eHeight;a.eWidth=0;a.eHeight=0;a.r=a.eR;a.eR=0;}LTweenLite.to(a,a.trans.duration,{width:a.eWidth,height:a.eHeight,sLeft:a.eLeft,sTop:a.eTop,r:a.eR,onComplete:a.irisComplete,onUpdate:a.irisUpdate,ease:a.trans.easing});
},curtainComplete:function(a){if(a.trans.direction==LTransition.OUT){a.child.mask.clear();}else{a.curtainUpdateRun();}a.child.mask=null;if(a.trans.onComplete){a.trans.onComplete(a.child);
}},curtainUpdateRun:function(){var a=this,b=a.child.mask,d=LGlobal.canvas;b.clear();if(a.trans.dimension){b.add(function(){d.save();d.rect(0,0,a.width,a.child.getHeight());
d.rect(a.child.getWidth()-a.width,0,a.width,a.child.getHeight());d.restore();});}else{b.add(function(){d.save();d.rect(0,0,a.child.getWidth(),a.height);
d.rect(0,a.child.getHeight()-a.height,a.child.getWidth(),a.height);d.restore();});}},curtainUpdate:function(a){a.curtainUpdateRun();if(a.trans.onUpdate){a.trans.onUpdate(a.child);
}},curtain:function(){var a=this;var c=a.child.getWidth()*0.5;var e=a.child.getHeight()*0.5;if(a.trans.dimension){e=0;}else{c=0;}a.width=0;a.height=0;var d=new LGraphics();
a.child.mask=d;var b=a.maxSize;if(a.trans.direction==LTransition.OUT){a.width=c;a.height=e;c=0;e=0;}LTweenLite.to(a,a.trans.duration,{width:c,height:e,onComplete:a.curtainComplete,onUpdate:a.curtainUpdate,ease:a.trans.easing});
},squeezeComplete:function(a){a.child.scaleX=a.scaleX;a.child.scaleY=a.scaleY;if(a.trans.onComplete){a.trans.onComplete(a.child);}},squeezeUpdate:function(a){a.child.scaleX=a.scaleX;
a.child.scaleY=a.scaleY;if(a.trans.onUpdate){a.trans.onUpdate(a.child);}},squeeze:function(){var a=this;var c=1,b=1;a.scaleX=0,a.scaleY=0;if(a.trans.dimension){a.scaleX=1;
}else{a.scaleY=1;}if(a.trans.direction==LTransition.OUT){c=a.scaleX,b=a.scaleY;a.scaleX=1,a.scaleY=1;}a.child.scaleX=a.scaleX;a.child.scaleY=a.scaleY;LTweenLite.to(a,a.trans.duration,{scaleX:c,scaleY:b,onComplete:a.squeezeComplete,onUpdate:a.squeezeUpdate,ease:a.trans.easing});
},zoomComplete:function(a){a.child.scaleX=a.scaleX;a.child.scaleY=a.scaleY;if(a.trans.onComplete){a.trans.onComplete(a.child);}},zoomUpdate:function(a){a.child.scaleX=a.scaleX;
a.child.scaleY=a.scaleY;if(a.trans.onUpdate){a.trans.onUpdate(a.child);}},zoom:function(){var a=this;var c=1,b=1;a.scaleX=0,a.scaleY=0;if(a.trans.direction==LTransition.OUT){c=0,b=0;
a.scaleX=1,a.scaleY=1;}a.child.scaleX=a.scaleX;a.child.scaleY=a.scaleY;LTweenLite.to(a,a.trans.duration,{scaleX:c,scaleY:b,onComplete:a.zoomComplete,onUpdate:a.zoomUpdate,ease:a.trans.easing});
},wipeComplete:function(a){if(a.trans.direction==LTransition.OUT){a.child.mask.clear();}else{a.wipeUpdateRun();}a.child.mask=null;if(a.trans.onComplete){a.trans.onComplete(a.child);
}},wipeUpdateRun:function(){var a=this,b=a.child.mask,d=LGlobal.canvas;b.clear();b.drawVertices(0,"#000000",[[a.leftTopX,a.leftTopY],[a.leftBottomX,a.leftBottomY],[a.rightBottomX,a.rightBottomY],[a.rightTopX,a.rightTopY]]);
},wipeUpdate:function(a){a.wipeUpdateRun();if(a.trans.onUpdate){a.trans.onUpdate(a.child);}},wipe:function(){var p=this,m=p.child.getWidth(),y=p.child.getHeight(),k=p.leftTopX=0,j=p.leftTopY=0,f=p.leftBottomX=0,e=p.leftBottomY=y,r=p.rightTopX=m,q=p.rightTopY=0,o=p.rightBottomX=m,n=p.rightBottomY=y;
switch(p.trans.startPoint){case 1:k=p.leftTopX=-m;f=p.leftBottomX=-m*2;p.rightTopX=0;r=m*2;p.rightBottomX=-m;o=m;break;case 2:j=p.leftTopY=-y;p.leftBottomY=0;
e=y;q=p.rightTopY=-y;p.rightBottomY=0;n=y;break;case 3:p.leftTopX=m;k=-m;p.leftBottomX=m*2;f=0;r=p.rightTopX=m*2;o=p.rightBottomX=m*3;break;case 4:p.rightTopX=0;
r=m;p.rightBottomX=0;o=m;break;case 6:p.leftTopX=m;k=0;p.leftBottomX=m;f=0;break;case 7:f=p.leftBottomX=-m;k=p.leftTopX=-m*2;p.rightBottomX=0;o=m*2;p.rightTopX=-m;
r=m;break;case 8:e=p.leftBottomY=y;p.leftTopY=y;j=0;n=p.rightBottomY=y;p.rightTopY=y;q=0;break;case 9:p.leftBottomX=m;f=-m;p.leftTopX=m*2;k=0;o=p.rightBottomX=m*2;
r=p.rightTopX=m*3;break;case 5:default:p.leftTopX=m*0.5;p.leftTopY=y*0.5;p.rightTopX=m*0.5;p.rightTopY=y*0.5;p.leftBottomX=m*0.5;p.leftBottomY=y*0.5;p.rightBottomX=m*0.5;
p.rightBottomY=y*0.5;k=0,j=0;f=0,e=y;r=m,q=0;o=m,n=y;}var z=new LGraphics();p.child.mask=z;if(p.trans.direction==LTransition.OUT){var B=k,A=j,x=f,t=e,d=r,c=q,b=o,a=n;
k=p.leftTopX,j=p.leftTopY,f=p.leftBottomX,e=p.leftBottomY,r=p.rightTopX,q=p.rightTopY,o=p.rightBottomX,n=p.rightBottomY;p.leftTopX=B,p.leftTopY=A,p.leftBottomX=x,p.leftBottomY=t,p.rightTopX=d,p.rightTopY=c,p.rightBottomX=b,p.rightBottomY=a;
}LTweenLite.to(p,p.trans.duration,{leftTopX:k,leftTopY:j,leftBottomX:f,leftBottomY:e,rightTopX:r,rightTopY:q,rightBottomX:o,rightBottomY:n,onComplete:p.wipeComplete,onUpdate:p.wipeUpdate,ease:p.trans.easing});
},pixelDissolveComplete:function(a){if(a.trans.direction==LTransition.OUT){a.child.mask.clear();}else{a.pixelDissolveUpdateRun();}a.child.mask=null;if(a.trans.onComplete){a.trans.onComplete(a.child);
}},pixelDissolveUpdateRun:function(){var a=this,b=a.child.mask,e=LGlobal.canvas,d;b.clear();b.add(function(){e.save();for(var c=0;c<a.index;c++){d=a.list[c];
e.rect(d[0]*a.w,d[1]*a.h,a.w,a.h);}e.restore();});},pixelDissolveUpdate:function(a){a.pixelDissolveUpdateRun();if(a.trans.onUpdate){a.trans.onUpdate(a.child);
}},pixelDissolve:function(){var a=this;var d=new LGraphics();a.child.mask=d;LGlobal.mg=d;a.w=a.child.getWidth()/a.trans.xSections,a.h=a.child.getHeight()/a.trans.ySections;
a.list=[];for(var c=0;c<a.trans.xSections;c++){for(var b=0;b<a.trans.ySections;b++){a.list.push([c,b]);}}a.index=0;var e=a.trans.xSections*a.trans.ySections;
if(a.trans.direction==LTransition.OUT){a.index=e;e=0;}a.list=a.list.sort(function(g,f){return Math.random()>0.5;});a.pixelDissolveUpdateRun();LTweenLite.to(a,a.trans.duration,{index:e,onComplete:a.pixelDissolveComplete,onUpdate:a.pixelDissolveUpdate,ease:a.trans.easing});
}};LTransition.IN="in";LTransition.OUT="out";LTransition.Blinds=1;LTransition.Fade=2;LTransition.Fly=3;LTransition.Iris=4;LTransition.Curtain=5;LTransition.PixelDissolve=6;
LTransition.Squeeze=7;LTransition.Wipe=8;LTransition.Zoom=9;function LIris(){}LIris.SQUARE=0;LIris.CIRCLE=1;function LTransitionManager(a){this.child=a;
}LTransitionManager.prototype={startTransition:function(a){return LTransitionManager.start(this.child,a);}};LTransitionManager.start=function(c,b){if(!LTweenLite){throw ("you need load the LTweenLite.");
}var a=new LTransition(c,b);a.startTransition();return a;};function LFlash(){}LFlash.SpriteSheetConvert=function(c){var a=[],d;for(var b=0;b<c.length;b++){d=c[b];
a.push({x:d.frame.x,sx:d.spriteSourceSize.x,y:d.frame.y,sy:d.spriteSourceSize.y,width:d.frame.w,height:d.frame.h});}return a;};var LString={trim:function(a){return a.replace(/(^\s*)|(\s*$)|(\n)/g,"");
},leftTrim:function(a){return a.replace(/(^\s*)|(^\n)/g,"");},rightTrim:function(a){return a.replace(/(\s*$)|(\n$)/g,"");},numberFormat:function(b,a){if(!a||a<1){a=3;
}b=String(b).split(".");b[0]=b[0].replace(new RegExp("(\\d)(?=(\\d{"+a+"})+$)","ig"),"$1,");return b.join(".");},isString:function(a){var b=/^([a-z]|[A-Z])+$/;
return b.exec(a);},isNumber:function(a){var b=/^\d+\.\d+$/;return b.exec(a);},isInt:function(a){var b=/^\d+$/;return b.exec(a);}};LMath=LString;